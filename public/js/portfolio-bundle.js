!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){},function(e,t){window.addEventListener("scroll",(function(){var e=document.querySelector(".header");window.pageYOffset>200&&!e.classList.contains("header-mobile_open")?e.classList.add("header__small"):e.classList.remove("header__small")}));document.querySelector(".burger").addEventListener("click",(function(e){var t=document.querySelector(".header");e.preventDefault(),this.classList.toggle("active"),t.classList.toggle("header-mobile_open")}));function n(e){e.target.classList.contains("nav__submenu")&&this.classList.toggle("submenu_active")}document.querySelectorAll(".submenu").forEach((function(e){e.addEventListener("click",n)}))},,function(e,t,n){"use strict";var a=new(n(4))(firebase),i=document.querySelector(".cases"),o=document.querySelector(".pagination"),c={activeTag:"all",activePagination:0,elements:[]};function r(){var e;u(),e=c.elements.reduce((function(e,t,n){return e+'<a href="#" data-page="'.concat(a=n,'">\n            <div class="pagination__item ').concat(a===c.activePagination?"page-active":"",'">').concat(a+1,"</div>\n          </a>");var a}),""),v(o,g("left")+e+g("right"))}function s(e){var t=0;c.elements=e.reduce((function(e,n){var a;return e[t]=null!==(a=e[t])&&void 0!==a?a:[],e[t].length<4?e[t].push(n):e[++t]=[n],e}),[]),l()}function l(){var e,t,n,a=null!==(e=c.activePagination)&&void 0!==e?e:0;t=c.elements[a],n=t.reduce((function(e,t){return e+'<div class="cases__item">\n  <div class="cases__item__img">\n      <img class="img-inner" src="'.concat((n=t).imgURL,'">\n  </div>\n  <div class="cases__item__info">\n      <div class="text-content">\n          <h3 class="title-h3">').concat(n.title,'</h3>\n          <p class="description">').concat(n.description,'</p>\n      </div>\n      <div class="links">\n          <div class="links__link">\n              <a class="links__link__url" href="https://').concat(n.link,'">\n                  <div class="link-img"></div><span>').concat(n.link,'</span>\n              </a>\n          </div>\n          <button class="btn btn_large">view details</button>\n      </div>\n  </div>\n</div>');var n}),""),v(i,n),r(),document.querySelectorAll(".pagination a").forEach((function(e){e.addEventListener("click",f)}))}function u(){document.querySelectorAll(".filters button").forEach((function(e){e.getAttribute("data-name")===c.activeTag?e.classList.add("selected"):e.classList.remove("selected")}))}function d(){c.activeTag=this.getAttribute("data-name"),c.activePagination=0,"all"===c.activeTag?a.loadPosts().then(s).catch((function(e){return console.log(e)})):a.loadPostsByTag(c.activeTag).then(s).catch((function(e){return console.log(e)})),u(c.activeTag)}function f(){var e=this.getAttribute("data-page");"left"===e?e=--c.activePagination:"right"===e&&(e=++c.activePagination),+e<0?c.activePagination=0:+e>=c.elements.length?c.activePagination=c.elements.length-1:c.activePagination=+e,l()}function v(e,t){e.innerHTML=t}function g(e){return'<a href="#" data-page="'.concat(e,'">\n            <div class="pagination__item ').concat(e,'-arrow">\n                <i class="fa fa-chevron-').concat(e,'"></i>\n            </div>\n          </a>')}a.loadPosts().then(s).catch((function(e){return console.error(e)})),document.querySelectorAll(".filters button").forEach((function(e){e.addEventListener("click",d)}))},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={apiKey:"AIzaSyCnsSVyoVBqj_MLsjm27IN8rawZ7A6Y8eY",authDomain:"modusversus-project.firebaseapp.com",projectId:"modusversus-project",storageBucket:"modusversus-project.appspot.com",messagingSenderId:"295123108152",appId:"1:295123108152:web:5b08fb1d9576c1a5ecc1cd"};e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"_database",void 0),a(this,"_firebase",void 0),a(this,"_config",i),this.init(t),this.length=null}var t,o,c;return t=e,(o=[{key:"init",value:function(e){this._firebase=e.initializeApp(i),this._database=this._firebase.database(),this.setLength()}},{key:"loadPosts",value:function(){return this._database.ref("/portfolio-2/").orderByChild("title").get().then((function(e){return Object.values(e.val())}))}},{key:"loadPostsByTag",value:function(e){return this._database.ref("/portfolio-2/").orderByChild("tags/"+e).equalTo(!0).once("value").then((function(e){return Object.values(e.val())}))}},{key:"setLength",value:function(){var e=this;this._database.ref("/portfolio-2/").limitToLast(1).get().then((function(t){e.length=+Object.keys(t.val())[0]+1})).catch((function(e){return console.error(e)}))}}])&&n(t.prototype,o),c&&n(t,c),e}()},,function(e,t,n){"use strict";n.r(t);n(0),n(1),n(3),n.p,n.p,n.p}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9wb3J0Zm9saW8vcG9ydGZvbGlvLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2ZpcmViYXNlLWFwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1nL2xpbmsucG5nIiwid2VicGFjazovLy8uL3NyYy9pbWcvbGluay1ob3Zlci5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9hcnJvdy1wb3J0Zm9saW8ucG5nIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhlYWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBhZ2VZT2Zmc2V0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJyZW1vdmUiLCJlIiwicHJldmVudERlZmF1bHQiLCJ0aGlzIiwidG9nZ2xlIiwidG9nZ2xlU3VibWVudSIsInRhcmdldCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWwiLCJkYiIsInJlcXVpcmUiLCJmaXJlYmFzZSIsInBvc3RzQ29udGFpbmVyIiwicGFnaW5hdGlvbkNvbnRhaW5lciIsInBhZ2VEYXRhIiwiYWN0aXZlVGFnIiwiYWN0aXZlUGFnaW5hdGlvbiIsImVsZW1lbnRzIiwidXBkYXRlQWxsRWxlbWVudHMiLCJhbGxQYWdpbmF0aW9uQnV0dG9ucyIsInVwZGF0ZVRhZ3NFbGVtZW50cyIsInJlZHVjZSIsImFsbEJ1dHRvbnMiLCJjdXJyZW50QnV0dG9uIiwiaW5kZXgiLCJwYWdlIiwicmVwbGFjZUVsZW1lbnRzSW50b0NvbnRhaW5lciIsInJldHVyblBhZ2luYXRpb25BcnJvd0J1dHRvbnMiLCJwcmVwYXJlRGF0YSIsInBvc3RzQXJyIiwiY291bnRlciIsImFyciIsImN1cnIiLCJsZW5ndGgiLCJwdXNoIiwicmVuZGVyRWxlbWVudHNCeVBhZ2luYXRpb24iLCJhbGxQb3N0c0RhdGEiLCJhbGxQb3N0c0hUTUwiLCJjdXJyZW50UGFnZSIsInBvc3RzSFRNTCIsInBvc3RPYmoiLCJwb3N0IiwiaW1nVVJMIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImxpbmsiLCJoYW5kbGVQYWdpbmF0aW9uQ2hhbmdlIiwiYnRuIiwiZ2V0QXR0cmlidXRlIiwidGFnU2VhcmNoIiwibG9hZFBvc3RzIiwidGhlbiIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJsb2FkUG9zdHNCeVRhZyIsImRhdGFQYWdlIiwiY29udGFpbmVyIiwiaHRtbCIsImlubmVySFRNTCIsImRpciIsImVycm9yIiwiZmlyZWJhc2VDb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwicHJvamVjdElkIiwic3RvcmFnZUJ1Y2tldCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiYXBwSWQiLCJpbml0IiwiX2ZpcmViYXNlIiwiaW5pdGlhbGl6ZUFwcCIsIl9kYXRhYmFzZSIsImRhdGFiYXNlIiwic2V0TGVuZ3RoIiwicmVmIiwib3JkZXJCeUNoaWxkIiwic25hcCIsInZhbHVlcyIsInZhbCIsInRhZyIsImVxdWFsVG8iLCJvbmNlIiwibGltaXRUb0xhc3QiLCJrZXlzIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJ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LEksNEZBQVUsZ0ZBRFptRCxHQUVSNUQsS0FBS21FLEtBQUsxRCxHQUNWVCxLQUFLK0IsT0FBUyxLLFVBTmxCLE8sRUFBQSxHLEVBQUEsNEJBVU90QixHQUNIVCxLQUFLb0UsVUFBWTNELEVBQVM0RCxjQUFjVCxHQUN4QzVELEtBQUtzRSxVQUFZdEUsS0FBS29FLFVBQVVHLFdBRWhDdkUsS0FBS3dFLGNBZFQsa0NBa0JJLE9BQU94RSxLQUFLc0UsVUFDVEcsSUFBSSxpQkFDSkMsYUFBYSxTQUNiekcsTUFDQWdGLE1BQUssU0FBQzBCLEdBQUQsT0FBVTdHLE9BQU84RyxPQUFPRCxFQUFLRSxZQXRCekMscUNBeUJpQkMsR0FDYixPQUFPOUUsS0FBS3NFLFVBQ1RHLElBQUksaUJBQ0pDLGFBQWEsUUFBVUksR0FDdkJDLFNBQVEsR0FDUkMsS0FBSyxTQUNML0IsTUFBSyxTQUFDMEIsR0FBRCxPQUFVN0csT0FBTzhHLE9BQU9ELEVBQUtFLFlBL0J6QyxrQ0FrQ2MsV0FDVjdFLEtBQUtzRSxVQUNGRyxJQUFJLGlCQUNKUSxZQUFZLEdBQ1poSCxNQUNBZ0YsTUFBSyxTQUFDMEIsR0FDTCxFQUFLNUMsUUFBVWpFLE9BQU9vSCxLQUFLUCxFQUFLRSxPQUFPLEdBQUssS0FMaEQsT0FPUyxTQUFDM0IsR0FBRCxPQUFTQyxRQUFRUSxNQUFNVCxXLDJCQTFDcEMsTSxvRENWZSxJQ0FBLElDQUEiLCJmaWxlIjoianMvcG9ydGZvbGlvLWJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2KTtcbiIsIndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcclxuICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlclwiKTtcclxuXHJcbiAgaWYgKFxyXG4gICAgd2luZG93LnBhZ2VZT2Zmc2V0ID4gMjAwICYmXHJcbiAgICAhaGVhZGVyLmNsYXNzTGlzdC5jb250YWlucyhcImhlYWRlci1tb2JpbGVfb3BlblwiKVxyXG4gICkge1xyXG4gICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXJfX3NtYWxsXCIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcImhlYWRlcl9fc21hbGxcIik7XHJcbiAgfVxyXG59KTtcclxuXHJcbmNvbnN0IHRvZ2dsZSA9IGRvY3VtZW50XHJcbiAgLnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyXCIpXHJcbiAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIik7XHJcblxyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoXCJoZWFkZXItbW9iaWxlX29wZW5cIik7XHJcbiAgfSk7XHJcblxyXG5jb25zdCBzdWJtZW51QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3VibWVudVwiKTtcclxuXHJcbnN1Ym1lbnVCdG5zLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZVN1Ym1lbnUpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZVN1Ym1lbnUoZSkge1xyXG4gIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmF2X19zdWJtZW51XCIpKSByZXR1cm47XHJcblxyXG4gIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShcInN1Ym1lbnVfYWN0aXZlXCIpO1xyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuY29uc3QgRmlyZWJhc2UgPSByZXF1aXJlKFwiLi4vLi4vc2NyaXB0cy9maXJlYmFzZS1hcGlcIik7XHJcbmNvbnN0IGRiID0gbmV3IEZpcmViYXNlKGZpcmViYXNlKTtcclxuY29uc3QgcG9zdHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhc2VzXCIpO1xyXG5jb25zdCBwYWdpbmF0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wYWdpbmF0aW9uXCIpO1xyXG5cclxuY29uc3QgcGFnZURhdGEgPSB7XHJcbiAgYWN0aXZlVGFnOiBcImFsbFwiLCAvLyBzdHJpbmdcclxuICBhY3RpdmVQYWdpbmF0aW9uOiAwLCAvLyBudW1iZXJcclxuICBlbGVtZW50czogW10sXHJcbn07XHJcblxyXG5kYi5sb2FkUG9zdHMoKVxyXG4gIC50aGVuKHByZXBhcmVEYXRhKVxyXG4gIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5maWx0ZXJzIGJ1dHRvblwiKS5mb3JFYWNoKChidG4pID0+IHtcclxuICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRhZ1NlYXJjaCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlQWxsRWxlbWVudHMoKSB7XHJcbiAgdXBkYXRlVGFnc0VsZW1lbnRzKCk7XHJcbiAgdXBkYXRlUGFnaW5hdGlvbkVsZW1lbnRzKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByZXBhcmVEYXRhKHBvc3RzQXJyKSB7XHJcbiAgbGV0IGNvdW50ZXIgPSAwO1xyXG5cclxuICBwYWdlRGF0YS5lbGVtZW50cyA9IHBvc3RzQXJyLnJlZHVjZSgoYXJyLCBjdXJyKSA9PiB7XHJcbiAgICBhcnJbY291bnRlcl0gPSBhcnJbY291bnRlcl0gPz8gW107XHJcblxyXG4gICAgaWYgKGFycltjb3VudGVyXS5sZW5ndGggPCA0KSBhcnJbY291bnRlcl0ucHVzaChjdXJyKTtcclxuICAgIGVsc2UgYXJyWysrY291bnRlcl0gPSBbY3Vycl07XHJcblxyXG4gICAgcmV0dXJuIGFycjtcclxuICB9LCBbXSk7XHJcblxyXG4gIHJlbmRlckVsZW1lbnRzQnlQYWdpbmF0aW9uKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckVsZW1lbnRzQnlQYWdpbmF0aW9uKCkge1xyXG4gIGNvbnN0IGN1cnJlbnRQYWdlID0gcGFnZURhdGEuYWN0aXZlUGFnaW5hdGlvbiA/PyAwO1xyXG5cclxuICByZW5kZXJQb3N0cyhwYWdlRGF0YS5lbGVtZW50c1tjdXJyZW50UGFnZV0pO1xyXG5cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBhZ2luYXRpb24gYVwiKS5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQYWdpbmF0aW9uQ2hhbmdlKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlVGFnc0VsZW1lbnRzKCkge1xyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmlsdGVycyBidXR0b25cIikuZm9yRWFjaCgoYnRuKSA9PiB7XHJcbiAgICBpZiAoYnRuLmdldEF0dHJpYnV0ZShcImRhdGEtbmFtZVwiKSA9PT0gcGFnZURhdGEuYWN0aXZlVGFnKSB7XHJcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVQYWdpbmF0aW9uRWxlbWVudHMoKSB7XHJcbiAgY29uc3QgYWxsUGFnaW5hdGlvbkJ1dHRvbnMgPSBwYWdlRGF0YS5lbGVtZW50cy5yZWR1Y2UoXHJcbiAgICAoYWxsQnV0dG9ucywgY3VycmVudEJ1dHRvbiwgaW5kZXgpID0+XHJcbiAgICAgIChhbGxCdXR0b25zICs9IHJldHVyblBhZ2luYXRpb25CdXR0b24oaW5kZXgpKSxcclxuICAgIFwiXCJcclxuICApO1xyXG5cclxuICByZXBsYWNlRWxlbWVudHNJbnRvQ29udGFpbmVyKFxyXG4gICAgcGFnaW5hdGlvbkNvbnRhaW5lcixcclxuICAgIHJldHVyblBhZ2luYXRpb25BcnJvd0J1dHRvbnMoXCJsZWZ0XCIpICtcclxuICAgICAgYWxsUGFnaW5hdGlvbkJ1dHRvbnMgK1xyXG4gICAgICByZXR1cm5QYWdpbmF0aW9uQXJyb3dCdXR0b25zKFwicmlnaHRcIilcclxuICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0YWdTZWFyY2goKSB7XHJcbiAgcGFnZURhdGEuYWN0aXZlVGFnID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5hbWVcIik7XHJcbiAgcGFnZURhdGEuYWN0aXZlUGFnaW5hdGlvbiA9IDA7XHJcblxyXG4gIGlmIChwYWdlRGF0YS5hY3RpdmVUYWcgPT09IFwiYWxsXCIpIHtcclxuICAgIGRiLmxvYWRQb3N0cygpXHJcbiAgICAgIC50aGVuKHByZXBhcmVEYXRhKVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGRiLmxvYWRQb3N0c0J5VGFnKHBhZ2VEYXRhLmFjdGl2ZVRhZylcclxuICAgICAgLnRoZW4ocHJlcGFyZURhdGEpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVRhZ3NFbGVtZW50cyhwYWdlRGF0YS5hY3RpdmVUYWcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQYWdpbmF0aW9uQ2hhbmdlKCkge1xyXG4gIGxldCBkYXRhUGFnZSA9IHRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1wYWdlXCIpO1xyXG5cclxuICBpZiAoZGF0YVBhZ2UgPT09ICdsZWZ0JykgZGF0YVBhZ2UgPSAtLXBhZ2VEYXRhLmFjdGl2ZVBhZ2luYXRpb247XHJcbiAgZWxzZSBpZiAoZGF0YVBhZ2UgPT09ICdyaWdodCcpIGRhdGFQYWdlID0gKytwYWdlRGF0YS5hY3RpdmVQYWdpbmF0aW9uO1xyXG4gIFxyXG4gIGlmICgrZGF0YVBhZ2UgPCAwKSBwYWdlRGF0YS5hY3RpdmVQYWdpbmF0aW9uID0gMDtcclxuICBlbHNlIGlmICgrZGF0YVBhZ2UgPj0gcGFnZURhdGEuZWxlbWVudHMubGVuZ3RoKSBwYWdlRGF0YS5hY3RpdmVQYWdpbmF0aW9uID0gcGFnZURhdGEuZWxlbWVudHMubGVuZ3RoLTE7XHJcbiAgZWxzZSBwYWdlRGF0YS5hY3RpdmVQYWdpbmF0aW9uID0gK2RhdGFQYWdlO1xyXG5cclxuICByZW5kZXJFbGVtZW50c0J5UGFnaW5hdGlvbigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJQb3N0cyhhbGxQb3N0c0RhdGEpIHtcclxuICBjb25zdCBhbGxQb3N0c0hUTUwgPSBhbGxQb3N0c0RhdGEucmVkdWNlKFxyXG4gICAgKHBvc3RzSFRNTCwgcG9zdE9iaikgPT4gKHBvc3RzSFRNTCArPSByZXR1cm5IVE1MUG9zdChwb3N0T2JqKSksXHJcbiAgICBcIlwiXHJcbiAgKTtcclxuXHJcbiAgcmVwbGFjZUVsZW1lbnRzSW50b0NvbnRhaW5lcihwb3N0c0NvbnRhaW5lciwgYWxsUG9zdHNIVE1MKTtcclxuICB1cGRhdGVBbGxFbGVtZW50cygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXBsYWNlRWxlbWVudHNJbnRvQ29udGFpbmVyKGNvbnRhaW5lciwgaHRtbCkge1xyXG4gIGNvbnRhaW5lci5pbm5lckhUTUwgPSBodG1sO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXR1cm5IVE1MUG9zdChwb3N0KSB7XHJcbiAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiY2FzZXNfX2l0ZW1cIj5cclxuICA8ZGl2IGNsYXNzPVwiY2FzZXNfX2l0ZW1fX2ltZ1wiPlxyXG4gICAgICA8aW1nIGNsYXNzPVwiaW1nLWlubmVyXCIgc3JjPVwiJHtwb3N0LmltZ1VSTH1cIj5cclxuICA8L2Rpdj5cclxuICA8ZGl2IGNsYXNzPVwiY2FzZXNfX2l0ZW1fX2luZm9cIj5cclxuICAgICAgPGRpdiBjbGFzcz1cInRleHQtY29udGVudFwiPlxyXG4gICAgICAgICAgPGgzIGNsYXNzPVwidGl0bGUtaDNcIj4ke3Bvc3QudGl0bGV9PC9oMz5cclxuICAgICAgICAgIDxwIGNsYXNzPVwiZGVzY3JpcHRpb25cIj4ke3Bvc3QuZGVzY3JpcHRpb259PC9wPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cImxpbmtzXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibGlua3NfX2xpbmtcIj5cclxuICAgICAgICAgICAgICA8YSBjbGFzcz1cImxpbmtzX19saW5rX191cmxcIiBocmVmPVwiaHR0cHM6Ly8ke3Bvc3QubGlua31cIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxpbmstaW1nXCI+PC9kaXY+PHNwYW4+JHtwb3N0Lmxpbmt9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG5fbGFyZ2VcIj52aWV3IGRldGFpbHM8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PmA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJldHVyblBhZ2luYXRpb25CdXR0b24ocGFnZSkge1xyXG4gIHJldHVybiBgPGEgaHJlZj1cIiNcIiBkYXRhLXBhZ2U9XCIke3BhZ2V9XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYWdpbmF0aW9uX19pdGVtICR7cGFnZSA9PT0gcGFnZURhdGEuYWN0aXZlUGFnaW5hdGlvbiA/IFwicGFnZS1hY3RpdmVcIiA6IFwiXCJ9XCI+JHtwYWdlICsgMX08L2Rpdj5cclxuICAgICAgICAgIDwvYT5gO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXR1cm5QYWdpbmF0aW9uQXJyb3dCdXR0b25zKGRpcikge1xyXG4gIHJldHVybiBgPGEgaHJlZj1cIiNcIiBkYXRhLXBhZ2U9XCIke2Rpcn1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhZ2luYXRpb25fX2l0ZW0gJHtkaXJ9LWFycm93XCI+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLWNoZXZyb24tJHtkaXJ9XCI+PC9pPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvYT5gO1xyXG59XHJcbiIsIi8vIFlvdXIgd2ViIGFwcCdzIEZpcmViYXNlIGNvbmZpZ3VyYXRpb25cclxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XHJcbiAgYXBpS2V5OiBcIkFJemFTeUNuc1NWeW9WQnFqX01Mc2ptMjdJTjhyYXdaN0E2WThlWVwiLFxyXG4gIGF1dGhEb21haW46IFwibW9kdXN2ZXJzdXMtcHJvamVjdC5maXJlYmFzZWFwcC5jb21cIixcclxuICBwcm9qZWN0SWQ6IFwibW9kdXN2ZXJzdXMtcHJvamVjdFwiLFxyXG4gIHN0b3JhZ2VCdWNrZXQ6IFwibW9kdXN2ZXJzdXMtcHJvamVjdC5hcHBzcG90LmNvbVwiLFxyXG4gIG1lc3NhZ2luZ1NlbmRlcklkOiBcIjI5NTEyMzEwODE1MlwiLFxyXG4gIGFwcElkOiBcIjE6Mjk1MTIzMTA4MTUyOndlYjo1YjA4ZmIxZDk1NzZjMWE1ZWNjMWNkXCIsXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIHtcclxuICBfZGF0YWJhc2U7XHJcbiAgX2ZpcmViYXNlO1xyXG4gIF9jb25maWcgPSBmaXJlYmFzZUNvbmZpZztcclxuICBjb25zdHJ1Y3RvcihmaXJlYmFzZSkge1xyXG4gICAgdGhpcy5pbml0KGZpcmViYXNlKTtcclxuICAgIHRoaXMubGVuZ3RoID0gbnVsbDtcclxuICBcclxuICB9XHJcblxyXG4gIGluaXQoZmlyZWJhc2UpIHtcclxuICAgIHRoaXMuX2ZpcmViYXNlID0gZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbiAgICB0aGlzLl9kYXRhYmFzZSA9IHRoaXMuX2ZpcmViYXNlLmRhdGFiYXNlKCk7XHJcblxyXG4gICAgdGhpcy5zZXRMZW5ndGgoKTtcclxuICB9XHJcblxyXG4gIGxvYWRQb3N0cygpIHtcclxuICAgIHJldHVybiB0aGlzLl9kYXRhYmFzZVxyXG4gICAgICAucmVmKFwiL3BvcnRmb2xpby0yL1wiKVxyXG4gICAgICAub3JkZXJCeUNoaWxkKCd0aXRsZScpXHJcbiAgICAgIC5nZXQoKVxyXG4gICAgICAudGhlbigoc25hcCkgPT4gT2JqZWN0LnZhbHVlcyhzbmFwLnZhbCgpKSk7XHJcbiAgfVxyXG5cclxuICBsb2FkUG9zdHNCeVRhZyh0YWcpIHtcclxuICAgIHJldHVybiB0aGlzLl9kYXRhYmFzZVxyXG4gICAgICAucmVmKFwiL3BvcnRmb2xpby0yL1wiKVxyXG4gICAgICAub3JkZXJCeUNoaWxkKFwidGFncy9cIiArIHRhZylcclxuICAgICAgLmVxdWFsVG8odHJ1ZSlcclxuICAgICAgLm9uY2UoXCJ2YWx1ZVwiKVxyXG4gICAgICAudGhlbigoc25hcCkgPT4gT2JqZWN0LnZhbHVlcyhzbmFwLnZhbCgpKSk7XHJcbiAgfVxyXG5cclxuICBzZXRMZW5ndGgoKSB7XHJcbiAgICB0aGlzLl9kYXRhYmFzZVxyXG4gICAgICAucmVmKFwiL3BvcnRmb2xpby0yL1wiKVxyXG4gICAgICAubGltaXRUb0xhc3QoMSlcclxuICAgICAgLmdldCgpXHJcbiAgICAgIC50aGVuKChzbmFwKSA9PiB7XHJcbiAgICAgICAgdGhpcy5sZW5ndGggPSArT2JqZWN0LmtleXMoc25hcC52YWwoKSlbMF0gKyAxO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuICB9XHJcbn07XHJcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWcvbGluay5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1nL2xpbmstaG92ZXIucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltZy9hcnJvdy1wb3J0Zm9saW8ucG5nXCI7Il0sInNvdXJjZVJvb3QiOiIifQ==