!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){},function(e,t){window.addEventListener("scroll",(function(){var e=document.querySelector(".header");window.pageYOffset>200&&!e.classList.contains("header-mobile_open")?e.classList.add("header__small"):e.classList.remove("header__small")}));document.querySelector(".burger").addEventListener("click",(function(e){var t=document.querySelector(".header");e.preventDefault(),this.classList.toggle("active"),t.classList.toggle("header-mobile_open")}));function n(e){e.target.classList.contains("nav__submenu")&&this.classList.toggle("submenu_active")}document.querySelectorAll(".submenu").forEach((function(e){e.addEventListener("click",n)}))},,function(e,t,n){"use strict";var a=new(n(4))(firebase),i=document.querySelector(".cases"),o=document.querySelector(".pagination"),r={activeTag:"all",activePagination:0,elements:[]};function c(){var e;u(),e=r.elements.reduce((function(e,t,n){return e+'<a href="#" data-page="'.concat(a=n,'">\n  <div class="pagination__item ').concat(a===r.activePagination?"page-active":"",'">').concat(a+1,"</div>\n</a>");var a}),""),o.innerHTML=e}function s(e){var t=0;r.elements=e.reduce((function(e,n){var a;return e[t]=null!==(a=e[t])&&void 0!==a?a:[],e[t].length<4?e[t].push(n):e[++t]=[n],e}),[]),l()}function l(){var e,t=null!==(e=r.activePagination)&&void 0!==e?e:0;(function(e){i.innerHTML=e})(r.elements[t].reduce((function(e,t){return e+'<div class="cases__item">\n  <div class="cases__item__img">\n      <img class="img-inner" src="'.concat((n=t).imgURL,'">\n  </div>\n  <div class="cases__item__info">\n      <div class="text-content">\n          <h3 class="title-h3">').concat(n.id," â€¢ ").concat(n.title,'</h3>\n          <p class="description">').concat(n.description,'</p>\n      </div>\n      <div class="links">\n          <div class="links__link">\n              <a class="links__link__url" href="https://').concat(n.link,'">\n                  <div class="link-img"></div><span>').concat(n.link,'</span>\n              </a>\n          </div>\n          <button class="btn btn_large">view details</button>\n      </div>\n  </div>\n</div>');var n}),"")),c(),document.querySelectorAll(".pagination a").forEach((function(e){e.addEventListener("click",f)}))}function u(){document.querySelectorAll(".filters button").forEach((function(e){e.getAttribute("data-name")===r.activeTag?e.classList.add("selected"):e.classList.remove("selected")}))}function d(){r.activeTag=this.getAttribute("data-name"),r.activePagination=0,"all"===r.activeTag?a.loadPosts().then(s).catch((function(e){return console.log(e)})):a.loadPostsByTag(r.activeTag).then(s).catch((function(e){return console.log(e)})),u(r.activeTag)}function f(){r.activePagination=+this.getAttribute("data-page"),l()}a.loadPosts().then(s).catch((function(e){return console.error(e)})),document.querySelectorAll(".filters button").forEach((function(e){e.addEventListener("click",d)}))},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={apiKey:"AIzaSyCnsSVyoVBqj_MLsjm27IN8rawZ7A6Y8eY",authDomain:"modusversus-project.firebaseapp.com",projectId:"modusversus-project",storageBucket:"modusversus-project.appspot.com",messagingSenderId:"295123108152",appId:"1:295123108152:web:5b08fb1d9576c1a5ecc1cd"};e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"_database",void 0),a(this,"_firebase",void 0),a(this,"_config",i),this.init(t),this.length=null}var t,o,r;return t=e,(o=[{key:"init",value:function(e){this._firebase=e.initializeApp(i),this._database=this._firebase.database(),this.setLength()}},{key:"loadPosts",value:function(){return this._database.ref("/portfolio-2/").orderByChild("title").get().then((function(e){return Object.values(e.val())}))}},{key:"loadPostsByTag",value:function(e){return this._database.ref("/portfolio-2/").orderByChild("tags/"+e).equalTo(!0).once("value").then((function(e){return Object.values(e.val())}))}},{key:"setLength",value:function(){var e=this;this._database.ref("/portfolio-2/").limitToLast(1).get().then((function(t){e.length=+Object.keys(t.val())[0]+1})).catch((function(e){return console.error(e)}))}}])&&n(t.prototype,o),r&&n(t,r),e}()},,function(e,t,n){"use strict";n.r(t);n(0),n(1),n(3),n.p,n.p,n.p}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9wb3J0Zm9saW8vcG9ydGZvbGlvLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2ZpcmViYXNlLWFwaS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1nL2xpbmsucG5nIiwid2VicGFjazovLy8uL3NyYy9pbWcvbGluay1ob3Zlci5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9hcnJvdy1wb3J0Zm9saW8ucG5nIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhlYWRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBhZ2VZT2Zmc2V0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJhZGQiLCJyZW1vdmUiLCJlIiwicHJldmVudERlZmF1bHQiLCJ0aGlzIiwidG9nZ2xlIiwidG9nZ2xlU3VibWVudSIsInRhcmdldCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZWwiLCJkYiIsInJlcXVpcmUiLCJmaXJlYmFzZSIsInBvc3RzQ29udGFpbmVyIiwicGFnaW5hdGlvbkNvbnRhaW5lciIsInBhZ2VEYXRhIiwiYWN0aXZlVGFnIiwiYWN0aXZlUGFnaW5hdGlvbiIsImVsZW1lbnRzIiwidXBkYXRlQWxsRWxlbWVudHMiLCJwYWdpbmF0aW9uSFRNTCIsInVwZGF0ZVRhZ3NFbGVtZW50cyIsInJlZHVjZSIsImFsbEJ1dHRvbnMiLCJjdXJyZW50QnV0dG9uIiwiaW5kZXgiLCJwYWdlIiwiaW5uZXJIVE1MIiwicHJlcGFyZURhdGEiLCJwb3N0c0FyciIsImNvdW50ZXIiLCJhcnIiLCJjdXJyIiwibGVuZ3RoIiwicHVzaCIsInJlbmRlckVsZW1lbnRzQnlQYWdpbmF0aW9uIiwiY3VycmVudFBhZ2UiLCJwb3N0c0hUTUwiLCJyZXBsYWNlUG9zdHNJbnRvQ29udGFpbmVyIiwicG9zdE9iaiIsInBvc3QiLCJpbWdVUkwiLCJpZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJsaW5rIiwiaGFuZGxlUGFnaW5hdGlvbkNoYW5nZSIsImJ0biIsImdldEF0dHJpYnV0ZSIsInRhZ1NlYXJjaCIsImxvYWRQb3N0cyIsInRoZW4iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwibG9hZFBvc3RzQnlUYWciLCJlcnJvciIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsInByb2plY3RJZCIsInN0b3JhZ2VCdWNrZXQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsImFwcElkIiwiaW5pdCIsIl9maXJlYmFzZSIsImluaXRpYWxpemVBcHAiLCJfZGF0YWJhc2UiLCJkYXRhYmFzZSIsInNldExlbmd0aCIsInJlZiIsIm9yZGVyQnlDaGlsZCIsInNuYXAiLCJ2YWx1ZXMiLCJ2YWwiLCJ0YWciLCJlcXVhbFRvIiwib25jZSIsImxpbWl0VG9MYXN0Iiwia2V5cyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQRSxHQUE0QixpQkFBVEYsRUFBbUIsSUFBSSxJQUFJTSxLQUFPTixFQUFPckIsRUFBb0JVLEVBQUVlLEVBQUlFLEVBQUssU0FBU0EsR0FBTyxPQUFPTixFQUFNTSxJQUFRQyxLQUFLLEtBQU1ELElBQzlJLE9BQU9GLEdBSVJ6QixFQUFvQjZCLEVBQUksU0FBUzFCLEdBQ2hDLElBQUlTLEVBQVNULEdBQVVBLEVBQU9xQixXQUM3QixXQUF3QixPQUFPckIsRUFBZ0IsU0FDL0MsV0FBOEIsT0FBT0EsR0FFdEMsT0FEQUgsRUFBb0JVLEVBQUVFLEVBQVEsSUFBS0EsR0FDNUJBLEdBSVJaLEVBQW9CYSxFQUFJLFNBQVNpQixFQUFRQyxHQUFZLE9BQU9qQixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt1QixFQUFRQyxJQUd6Ry9CLEVBQW9Ca0MsRUFBSSxHQUlqQmxDLEVBQW9CQSxFQUFvQm1DLEVBQUksRyxrQ0NsRnJEQyxPQUFPQyxpQkFBaUIsVUFBVSxXQUNoQyxJQUFNQyxFQUFTQyxTQUFTQyxjQUFjLFdBR3BDSixPQUFPSyxZQUFjLE1BQ3BCSCxFQUFPSSxVQUFVQyxTQUFTLHNCQUUzQkwsRUFBT0ksVUFBVUUsSUFBSSxpQkFFckJOLEVBQU9JLFVBQVVHLE9BQU8sb0JBSWJOLFNBQ1pDLGNBQWMsV0FDZEgsaUJBQWlCLFNBQVMsU0FBVVMsR0FDbkMsSUFBTVIsRUFBU0MsU0FBU0MsY0FBYyxXQUV0Q00sRUFBRUMsaUJBQ0ZDLEtBQUtOLFVBQVVPLE9BQU8sVUFDdEJYLEVBQU9JLFVBQVVPLE9BQU8seUJBUzVCLFNBQVNDLEVBQWNKLEdBQ2hCQSxFQUFFSyxPQUFPVCxVQUFVQyxTQUFTLGlCQUVqQ0ssS0FBS04sVUFBVU8sT0FBTyxrQkFUSlYsU0FBU2EsaUJBQWlCLFlBRWxDQyxTQUFRLFNBQUNDLEdBQ25CQSxFQUFHakIsaUJBQWlCLFFBQVNhLE8sOEJDeEIvQixJQUNNSyxFQUFLLElBRE1DLEVBQVEsR0FDZCxDQUFhQyxVQUNsQkMsRUFBaUJuQixTQUFTQyxjQUFjLFVBQ3hDbUIsRUFBc0JwQixTQUFTQyxjQUFjLGVBRTdDb0IsRUFBVyxDQUNmQyxVQUFXLE1BQ1hDLGlCQUFrQixFQUNsQkMsU0FBVSxJQVdaLFNBQVNDLElBd0NULElBNkN3Q0MsRUFwRnRDQyxJQW9Gc0NELEVBNUNUTCxFQUFTRyxTQUFTSSxRQUM3QyxTQUFDQyxFQUFZQyxFQUFlQyxHQUE1QixPQUF1Q0YsRUFzRXpDLGlDQUQ4QkcsRUFyRWdERCxFQXNFOUUsOENBQytCQyxJQUFTWCxFQUFTRSxpQkFBbUIsY0FBZ0IsR0FEcEYsYUFDMkZTLEVBQUssRUFEaEcsZ0JBREYsSUFBZ0NBLElBcEU1QixJQTJDRlosRUFBb0JhLFVBQVlQLEVBakZsQyxTQUFTUSxFQUFZQyxHQUNuQixJQUFJQyxFQUFVLEVBRWRmLEVBQVNHLFNBQVdXLEVBQVNQLFFBQU8sU0FBQ1MsRUFBS0MsR0FBTyxNQU0vQyxPQUxBRCxFQUFJRCxHQUFKLFVBQWVDLEVBQUlELFVBQW5CLFFBQStCLEdBRTNCQyxFQUFJRCxHQUFTRyxPQUFTLEVBQUdGLEVBQUlELEdBQVNJLEtBQUtGLEdBQzFDRCxJQUFNRCxHQUFXLENBQUNFLEdBRWhCRCxJQUNOLElBRUhJLElBR0YsU0FBU0EsSUFBNkIsTUFDOUJDLEVBQVcsVUFBR3JCLEVBQVNFLHdCQUFaLFFBQWdDLEdBNERuRCxTQUFtQ29CLEdBQ2pDeEIsRUFBZWMsVUFBWVUsR0FMM0JDLENBdERZdkIsRUFBU0csU0FBU2tCLEdBaURJZCxRQUNoQyxTQUFDZSxFQUFXRSxHQUFaLE9BQXlCRixFQWlCM0IsMEdBRHNCRyxFQWhCaUNELEdBbUJoQkUsT0FGdkMsNkhBTStCRCxFQUFLRSxHQU5wQyxjQU00Q0YsRUFBS0csTUFOakQsbURBT2lDSCxFQUFLSSxZQVB0Qyx1SkFXd0RKLEVBQUtLLEtBWDdELG1FQVlvREwsRUFBS0ssS0FaekQsZ0pBREYsSUFBd0JMLElBZnBCLEtBSUZyQixJQXJEQXpCLFNBQVNhLGlCQUFpQixpQkFBaUJDLFNBQVEsU0FBQ3FDLEdBQ2xEQSxFQUFLckQsaUJBQWlCLFFBQVNzRCxNQUluQyxTQUFTekIsSUFDUDNCLFNBQVNhLGlCQUFpQixtQkFBbUJDLFNBQVEsU0FBQ3VDLEdBQ2hEQSxFQUFJQyxhQUFhLGVBQWlCakMsRUFBU0MsVUFDN0MrQixFQUFJbEQsVUFBVUUsSUFBSSxZQUVsQmdELEVBQUlsRCxVQUFVRyxPQUFPLGVBYzNCLFNBQVNpRCxJQUNQbEMsRUFBU0MsVUFBWWIsS0FBSzZDLGFBQWEsYUFDdkNqQyxFQUFTRSxpQkFBbUIsRUFFRCxRQUF2QkYsRUFBU0MsVUFDWE4sRUFBR3dDLFlBQ0FDLEtBQUt2QixHQURSLE9BRVMsU0FBQ3dCLEdBQUQsT0FBU0MsUUFBUUMsSUFBSUYsTUFFOUIxQyxFQUFHNkMsZUFBZXhDLEVBQVNDLFdBQ3hCbUMsS0FBS3ZCLEdBRFIsT0FFUyxTQUFDd0IsR0FBRCxPQUFTQyxRQUFRQyxJQUFJRixNQUdoQy9CLEVBQW1CTixFQUFTQyxXQUc5QixTQUFTOEIsSUFDUC9CLEVBQVNFLGtCQUFxQmQsS0FBSzZDLGFBQWEsYUFDaERiLElBNUVGekIsRUFBR3dDLFlBQ0FDLEtBQUt2QixHQURSLE9BRVMsU0FBQ3dCLEdBQUQsT0FBU0MsUUFBUUcsTUFBTUosTUFFaEMxRCxTQUFTYSxpQkFBaUIsbUJBQW1CQyxTQUFRLFNBQUN1QyxHQUNwREEsRUFBSXZELGlCQUFpQixRQUFTeUQsTyw0U0NqQmhDLElBQU1RLEVBQWlCLENBQ3JCQyxPQUFRLDBDQUNSQyxXQUFZLHNDQUNaQyxVQUFXLHNCQUNYQyxjQUFlLGtDQUNmQyxrQkFBbUIsZUFDbkJDLE1BQU8sNkNBR1R6RyxFQUFPRCxRQUFQLFdBSUUsV0FBWXVELEksNEZBQVUsZ0ZBRFo2QyxHQUVSdEQsS0FBSzZELEtBQUtwRCxHQUNWVCxLQUFLOEIsT0FBUyxLLFVBTmxCLE8sRUFBQSxHLEVBQUEsNEJBVU9yQixHQUNIVCxLQUFLOEQsVUFBWXJELEVBQVNzRCxjQUFjVCxHQUN4Q3RELEtBQUtnRSxVQUFZaEUsS0FBSzhELFVBQVVHLFdBRWhDakUsS0FBS2tFLGNBZFQsa0NBa0JJLE9BQU9sRSxLQUFLZ0UsVUFDVEcsSUFBSSxpQkFDSkMsYUFBYSxTQUNibkcsTUFDQStFLE1BQUssU0FBQ3FCLEdBQUQsT0FBVXZHLE9BQU93RyxPQUFPRCxFQUFLRSxZQXRCekMscUNBeUJpQkMsR0FDYixPQUFPeEUsS0FBS2dFLFVBQ1RHLElBQUksaUJBQ0pDLGFBQWEsUUFBVUksR0FDdkJDLFNBQVEsR0FDUkMsS0FBSyxTQUNMMUIsTUFBSyxTQUFDcUIsR0FBRCxPQUFVdkcsT0FBT3dHLE9BQU9ELEVBQUtFLFlBL0J6QyxrQ0FrQ2MsV0FDVnZFLEtBQUtnRSxVQUNGRyxJQUFJLGlCQUNKUSxZQUFZLEdBQ1oxRyxNQUNBK0UsTUFBSyxTQUFDcUIsR0FDTCxFQUFLdkMsUUFBVWhFLE9BQU84RyxLQUFLUCxFQUFLRSxPQUFPLEdBQUssS0FMaEQsT0FPUyxTQUFDdEIsR0FBRCxPQUFTQyxRQUFRRyxNQUFNSixXLDJCQTFDcEMsTSxvRENWZSxJQ0FBLElDQUEiLCJmaWxlIjoianMvcG9ydGZvbGlvLWJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2KTtcbiIsIndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcclxuICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlclwiKTtcclxuXHJcbiAgaWYgKFxyXG4gICAgd2luZG93LnBhZ2VZT2Zmc2V0ID4gMjAwICYmXHJcbiAgICAhaGVhZGVyLmNsYXNzTGlzdC5jb250YWlucyhcImhlYWRlci1tb2JpbGVfb3BlblwiKVxyXG4gICkge1xyXG4gICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXJfX3NtYWxsXCIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcImhlYWRlcl9fc21hbGxcIik7XHJcbiAgfVxyXG59KTtcclxuXHJcbmNvbnN0IHRvZ2dsZSA9IGRvY3VtZW50XHJcbiAgLnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyXCIpXHJcbiAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIik7XHJcblxyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoXCJoZWFkZXItbW9iaWxlX29wZW5cIik7XHJcbiAgfSk7XHJcblxyXG5jb25zdCBzdWJtZW51QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3VibWVudVwiKTtcclxuXHJcbnN1Ym1lbnVCdG5zLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZVN1Ym1lbnUpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZVN1Ym1lbnUoZSkge1xyXG4gIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmF2X19zdWJtZW51XCIpKSByZXR1cm47XHJcblxyXG4gIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShcInN1Ym1lbnVfYWN0aXZlXCIpO1xyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuY29uc3QgRmlyZWJhc2UgPSByZXF1aXJlKFwiLi4vLi4vc2NyaXB0cy9maXJlYmFzZS1hcGlcIik7XHJcbmNvbnN0IGRiID0gbmV3IEZpcmViYXNlKGZpcmViYXNlKTtcclxuY29uc3QgcG9zdHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhc2VzXCIpO1xyXG5jb25zdCBwYWdpbmF0aW9uQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wYWdpbmF0aW9uXCIpO1xyXG5cclxuY29uc3QgcGFnZURhdGEgPSB7XHJcbiAgYWN0aXZlVGFnOiAnYWxsJywgLy8gc3RyaW5nXHJcbiAgYWN0aXZlUGFnaW5hdGlvbjogMCwgLy8gbnVtYmVyXHJcbiAgZWxlbWVudHM6IFtdXHJcbn1cclxuXHJcbmRiLmxvYWRQb3N0cygpXHJcbiAgLnRoZW4ocHJlcGFyZURhdGEpXHJcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcblxyXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZpbHRlcnMgYnV0dG9uXCIpLmZvckVhY2goKGJ0bikgPT4ge1xyXG4gIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGFnU2VhcmNoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVBbGxFbGVtZW50cygpIHtcclxuICB1cGRhdGVUYWdzRWxlbWVudHMoKTtcclxuICB1cGRhdGVQYWdpbmF0aW9uRWxlbWVudHMoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcHJlcGFyZURhdGEocG9zdHNBcnIpIHtcclxuICBsZXQgY291bnRlciA9IDA7XHJcblxyXG4gIHBhZ2VEYXRhLmVsZW1lbnRzID0gcG9zdHNBcnIucmVkdWNlKChhcnIsIGN1cnIpPT57XHJcbiAgICBhcnJbY291bnRlcl0gPSBhcnJbY291bnRlcl0gPz8gW107XHJcblxyXG4gICAgaWYgKGFycltjb3VudGVyXS5sZW5ndGggPCA0KSBhcnJbY291bnRlcl0ucHVzaChjdXJyKTtcclxuICAgIGVsc2UgYXJyWysrY291bnRlcl0gPSBbY3Vycl07XHJcblxyXG4gICAgcmV0dXJuIGFycjtcclxuICB9LCBbXSk7XHJcblxyXG4gIHJlbmRlckVsZW1lbnRzQnlQYWdpbmF0aW9uKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckVsZW1lbnRzQnlQYWdpbmF0aW9uKCkge1xyXG4gIGNvbnN0IGN1cnJlbnRQYWdlID0gcGFnZURhdGEuYWN0aXZlUGFnaW5hdGlvbiA/PyAwO1xyXG5cclxuICByZW5kZXJQb3N0cyhwYWdlRGF0YS5lbGVtZW50c1tjdXJyZW50UGFnZV0pO1xyXG5cclxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBhZ2luYXRpb24gYVwiKS5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVQYWdpbmF0aW9uQ2hhbmdlKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlVGFnc0VsZW1lbnRzKCl7XHJcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5maWx0ZXJzIGJ1dHRvblwiKS5mb3JFYWNoKChidG4pID0+IHtcclxuICAgIGlmIChidG4uZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKSA9PT0gcGFnZURhdGEuYWN0aXZlVGFnKSB7XHJcbiAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVQYWdpbmF0aW9uRWxlbWVudHMoKXtcclxuICBjb25zdCBhbGxQYWdpbmF0aW9uQnV0dG9ucyA9IHBhZ2VEYXRhLmVsZW1lbnRzLnJlZHVjZShcclxuICAgIChhbGxCdXR0b25zLCBjdXJyZW50QnV0dG9uLCBpbmRleCkgPT4gKGFsbEJ1dHRvbnMgKz0gcmV0dXJuUGFnaW5hdGlvbkJ1dHRvbihpbmRleCkpLFxyXG4gICAgXCJcIlxyXG4gICk7XHJcblxyXG4gIHJlcGxhY2VQYWdpbmF0aW9uSW50b0NvbnRhaW5lcihhbGxQYWdpbmF0aW9uQnV0dG9ucyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRhZ1NlYXJjaCgpIHtcclxuICBwYWdlRGF0YS5hY3RpdmVUYWcgPSB0aGlzLmdldEF0dHJpYnV0ZShcImRhdGEtbmFtZVwiKTtcclxuICBwYWdlRGF0YS5hY3RpdmVQYWdpbmF0aW9uID0gMDtcclxuXHJcbiAgaWYgKHBhZ2VEYXRhLmFjdGl2ZVRhZyA9PT0gXCJhbGxcIikge1xyXG4gICAgZGIubG9hZFBvc3RzKClcclxuICAgICAgLnRoZW4ocHJlcGFyZURhdGEpXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZGIubG9hZFBvc3RzQnlUYWcocGFnZURhdGEuYWN0aXZlVGFnKVxyXG4gICAgICAudGhlbihwcmVwYXJlRGF0YSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlVGFnc0VsZW1lbnRzKHBhZ2VEYXRhLmFjdGl2ZVRhZyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVBhZ2luYXRpb25DaGFuZ2UoKSB7XHJcbiAgcGFnZURhdGEuYWN0aXZlUGFnaW5hdGlvbiA9ICsgdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBhZ2VcIik7XHJcbiAgcmVuZGVyRWxlbWVudHNCeVBhZ2luYXRpb24oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyUG9zdHMoYWxsUG9zdHNEYXRhKSB7XHJcbiAgY29uc3QgYWxsUG9zdHNIVE1MID0gYWxsUG9zdHNEYXRhLnJlZHVjZShcclxuICAgIChwb3N0c0hUTUwsIHBvc3RPYmopID0+IChwb3N0c0hUTUwgKz0gcmV0dXJuSFRNTFBvc3QocG9zdE9iaikpLFxyXG4gICAgXCJcIlxyXG4gICk7XHJcblxyXG4gIHJlcGxhY2VQb3N0c0ludG9Db250YWluZXIoYWxsUG9zdHNIVE1MKTtcclxuICB1cGRhdGVBbGxFbGVtZW50cygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXBsYWNlUG9zdHNJbnRvQ29udGFpbmVyKHBvc3RzSFRNTCkge1xyXG4gIHBvc3RzQ29udGFpbmVyLmlubmVySFRNTCA9IHBvc3RzSFRNTDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVwbGFjZVBhZ2luYXRpb25JbnRvQ29udGFpbmVyKHBhZ2luYXRpb25IVE1MKSB7XHJcbiAgcGFnaW5hdGlvbkNvbnRhaW5lci5pbm5lckhUTUwgPSBwYWdpbmF0aW9uSFRNTDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmV0dXJuSFRNTFBvc3QocG9zdCkge1xyXG4gIHJldHVybiBgPGRpdiBjbGFzcz1cImNhc2VzX19pdGVtXCI+XHJcbiAgPGRpdiBjbGFzcz1cImNhc2VzX19pdGVtX19pbWdcIj5cclxuICAgICAgPGltZyBjbGFzcz1cImltZy1pbm5lclwiIHNyYz1cIiR7cG9zdC5pbWdVUkx9XCI+XHJcbiAgPC9kaXY+XHJcbiAgPGRpdiBjbGFzcz1cImNhc2VzX19pdGVtX19pbmZvXCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNvbnRlbnRcIj5cclxuICAgICAgICAgIDxoMyBjbGFzcz1cInRpdGxlLWgzXCI+JHtwb3N0LmlkfSDigKIgJHtwb3N0LnRpdGxlfTwvaDM+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cImRlc2NyaXB0aW9uXCI+JHtwb3N0LmRlc2NyaXB0aW9ufTwvcD5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJsaW5rc1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxpbmtzX19saW5rXCI+XHJcbiAgICAgICAgICAgICAgPGEgY2xhc3M9XCJsaW5rc19fbGlua19fdXJsXCIgaHJlZj1cImh0dHBzOi8vJHtwb3N0Lmxpbmt9XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaW5rLWltZ1wiPjwvZGl2PjxzcGFuPiR7cG9zdC5saW5rfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuX2xhcmdlXCI+dmlldyBkZXRhaWxzPC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5gO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXR1cm5QYWdpbmF0aW9uQnV0dG9uKHBhZ2UpIHtcclxuICByZXR1cm4gYDxhIGhyZWY9XCIjXCIgZGF0YS1wYWdlPVwiJHtwYWdlfVwiPlxyXG4gIDxkaXYgY2xhc3M9XCJwYWdpbmF0aW9uX19pdGVtICR7cGFnZSA9PT0gcGFnZURhdGEuYWN0aXZlUGFnaW5hdGlvbiA/ICdwYWdlLWFjdGl2ZScgOiAnJ31cIj4ke3BhZ2UrMX08L2Rpdj5cclxuPC9hPmA7XHJcbn1cclxuIiwiLy8gWW91ciB3ZWIgYXBwJ3MgRmlyZWJhc2UgY29uZmlndXJhdGlvblxyXG5jb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcclxuICBhcGlLZXk6IFwiQUl6YVN5Q25zU1Z5b1ZCcWpfTUxzam0yN0lOOHJhd1o3QTZZOGVZXCIsXHJcbiAgYXV0aERvbWFpbjogXCJtb2R1c3ZlcnN1cy1wcm9qZWN0LmZpcmViYXNlYXBwLmNvbVwiLFxyXG4gIHByb2plY3RJZDogXCJtb2R1c3ZlcnN1cy1wcm9qZWN0XCIsXHJcbiAgc3RvcmFnZUJ1Y2tldDogXCJtb2R1c3ZlcnN1cy1wcm9qZWN0LmFwcHNwb3QuY29tXCIsXHJcbiAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiMjk1MTIzMTA4MTUyXCIsXHJcbiAgYXBwSWQ6IFwiMToyOTUxMjMxMDgxNTI6d2ViOjViMDhmYjFkOTU3NmMxYTVlY2MxY2RcIixcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gY2xhc3Mge1xyXG4gIF9kYXRhYmFzZTtcclxuICBfZmlyZWJhc2U7XHJcbiAgX2NvbmZpZyA9IGZpcmViYXNlQ29uZmlnO1xyXG4gIGNvbnN0cnVjdG9yKGZpcmViYXNlKSB7XHJcbiAgICB0aGlzLmluaXQoZmlyZWJhc2UpO1xyXG4gICAgdGhpcy5sZW5ndGggPSBudWxsO1xyXG4gIFxyXG4gIH1cclxuXHJcbiAgaW5pdChmaXJlYmFzZSkge1xyXG4gICAgdGhpcy5fZmlyZWJhc2UgPSBmaXJlYmFzZS5pbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcclxuICAgIHRoaXMuX2RhdGFiYXNlID0gdGhpcy5fZmlyZWJhc2UuZGF0YWJhc2UoKTtcclxuXHJcbiAgICB0aGlzLnNldExlbmd0aCgpO1xyXG4gIH1cclxuXHJcbiAgbG9hZFBvc3RzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RhdGFiYXNlXHJcbiAgICAgIC5yZWYoXCIvcG9ydGZvbGlvLTIvXCIpXHJcbiAgICAgIC5vcmRlckJ5Q2hpbGQoJ3RpdGxlJylcclxuICAgICAgLmdldCgpXHJcbiAgICAgIC50aGVuKChzbmFwKSA9PiBPYmplY3QudmFsdWVzKHNuYXAudmFsKCkpKTtcclxuICB9XHJcblxyXG4gIGxvYWRQb3N0c0J5VGFnKHRhZykge1xyXG4gICAgcmV0dXJuIHRoaXMuX2RhdGFiYXNlXHJcbiAgICAgIC5yZWYoXCIvcG9ydGZvbGlvLTIvXCIpXHJcbiAgICAgIC5vcmRlckJ5Q2hpbGQoXCJ0YWdzL1wiICsgdGFnKVxyXG4gICAgICAuZXF1YWxUbyh0cnVlKVxyXG4gICAgICAub25jZShcInZhbHVlXCIpXHJcbiAgICAgIC50aGVuKChzbmFwKSA9PiBPYmplY3QudmFsdWVzKHNuYXAudmFsKCkpKTtcclxuICB9XHJcblxyXG4gIHNldExlbmd0aCgpIHtcclxuICAgIHRoaXMuX2RhdGFiYXNlXHJcbiAgICAgIC5yZWYoXCIvcG9ydGZvbGlvLTIvXCIpXHJcbiAgICAgIC5saW1pdFRvTGFzdCgxKVxyXG4gICAgICAuZ2V0KClcclxuICAgICAgLnRoZW4oKHNuYXApID0+IHtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9ICtPYmplY3Qua2V5cyhzbmFwLnZhbCgpKVswXSArIDE7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gIH1cclxufTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltZy9saW5rLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWcvbGluay1ob3Zlci5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1nL2Fycm93LXBvcnRmb2xpby5wbmdcIjsiXSwic291cmNlUm9vdCI6IiJ9