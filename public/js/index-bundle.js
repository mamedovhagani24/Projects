!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){},function(t,e){window.addEventListener("scroll",(function(){var t=document.querySelector(".header");window.pageYOffset>200&&!t.classList.contains("header-mobile_open")?t.classList.add("header__small"):t.classList.remove("header__small")}));document.querySelector(".burger").addEventListener("click",(function(t){var e=document.querySelector(".header");t.preventDefault(),this.classList.toggle("active"),e.classList.toggle("header-mobile_open")}));function n(t){t.target.classList.contains("nav__submenu")&&this.classList.toggle("submenu_active")}document.querySelectorAll(".submenu").forEach((function(t){t.addEventListener("click",n)}))},function(t,e){function n(t){var e=t.target,n=e.parentNode,i=null===document.elementFromPoint(t.clientX,t.clientY)?e:document.elementFromPoint(t.clientX,t.clientY);n===i.parentNode&&(i=i!==e.nextSibling?i:i.nextSibling,n.insertBefore(e,i))}document.querySelectorAll(".services__items-wrapper").forEach((function(t){!function(t){t.querySelectorAll(".services__item").forEach((function(t){!function(t){t.setAttribute("draggable",!0),t.addEventListener("dragend",n)}(t)}))}(t)}))},,,function(t,e,n){"use strict";n.r(e);n(0),n(1);function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var a=function(){function t(e){var n,i,o,s=this;r(this,t),o=null,(i="_startElementMovePosition")in(n=this)?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,this.slideTime=e.slideTime,this.sliderDom=new l(e),this.touch=new d(e.container),this.adaptive=new u({onResizeCallback:function(){s.activeTransition(!1),s.updateElementsInfo(),s.setSlide(s.activeSlide),setTimeout((function(){s.activeTransition(!0)}),10)}}),this.events={},this.elements={},this.activeSlide=0,this.maxSlide=null,this.elementWidth=null}return c(t,[{key:"init",value:function(t){this.sliderDom.init(),this.adaptive.init(),this.updateElementsInfo(),this.activeTransition(!0),this.touch.initTouchEvents({touchStart:this.touchStart.bind(this),touchMove:this.touchMove.bind(this),touchEnd:this.touchEnd.bind(this)}),this.elementWidth=this.containerWidth,this.maxSlide=this.elements.length-1,void 0!==t&&t()}},{key:"touchStart",value:function(){this.activeTransition(!1),this._startElementMovePosition=this.sliderDom.cotainerPosition}},{key:"touchMove",value:function(t){var e=t.moveX,n=this._startElementMovePosition+e;this.sliderDom.moveElements(n)}},{key:"touchEnd",value:function(){this._startElementMovePosition=null,this.activeTransition(!0),this.setSlide(this.nextSlideIndexByPosition)}},{key:"updateElementsInfo",value:function(){this.elements=this.sliderDom.getStaticElementsPosition()}},{key:"next",value:function(){this.setSlide(++this.activeSlide)}},{key:"prev",value:function(){this.setSlide(--this.activeSlide)}},{key:"activeTransition",value:function(t){this.sliderDom.container.style.transition=t?"transform ".concat(this.slideTime,"s ease"):"none"}},{key:"setSlide",value:function(t){t!==this.activeSlide&&this.activeTransition(!0),t=t<0?0:t>this.maxSlide?this.maxSlide:t;var e=this.elements[t].position;this.activeSlide=t,this.sliderDom.moveElements(-e),void 0!==this.events.onSlideChange&&this.events.onSlideChange(t)}},{key:"nextSlideIndexByPosition",get:function(){var t=this,e=this.sliderDom.container.parentNode.offsetLeft,n=this.sliderDom.getComputedElementsPosition().findIndex((function(n){return n.position+t.elementWidth/2>e}));return n>=0?n:this.maxSlide}},{key:"containerWidth",get:function(){return this.sliderDom.container.offsetWidth}}]),t}(),l=function(){function t(e){var n=e.container,i=e.slidesClass;r(this,t),this.container=n,this.slidesClass=i,this.elements=[]}return c(t,[{key:"init",value:function(){this.elements=this.container.querySelectorAll(this.slidesClass)}},{key:"getStaticElementsPosition",value:function(){return i(this.elements).map((function(t){return{position:t.offsetLeft}}))}},{key:"getComputedElementsPosition",value:function(){return i(this.elements).map((function(t){return{position:t.getBoundingClientRect().left}}))}},{key:"moveElements",value:function(t){this.container.style.transform="translateX(".concat(t,"px)")}},{key:"cotainerPosition",get:function(){var t=window.getComputedStyle(this.container).transform;return new WebKitCSSMatrix(t).m41}}]),t}(),u=function(){function t(e){var n=e.onResizeCallback;r(this,t),this.callbacks=[],this.windowResizedWidth=0,this.onResizeCallback=n}return c(t,[{key:"init",value:function(){window.addEventListener("resize",this.initResize.bind(this)),window.addEventListener("load",this.initResize.bind(this))}},{key:"initResize",value:function(t){this.onResizeCallback(),this.callbacks.forEach((function(e){return e(t)}))}},{key:"onResize",value:function(t){this.callbacks.push(t)}}]),t}(),d=function(){function t(e){r(this,t),this.container=e,this.touch={startX:0,moveX:0},this.events={}}return c(t,[{key:"initTouchEvents",value:function(t){this.container.addEventListener("touchstart",this._touchStart.bind(this)),this.container.addEventListener("touchmove",this._touchMove.bind(this)),this.container.addEventListener("touchend",this._touchEnd.bind(this)),this.events=t}},{key:"_touchStart",value:function(t){this.touch.startX=t.changedTouches[0].pageX,this.events.touchStart&&this.events.touchStart(this.touch)}},{key:"_touchMove",value:function(t){this.touch.moveX=t.changedTouches[0].pageX-this.touch.startX,Math.abs(this.touch.moveX)<20||this.events.touchMove&&this.events.touchMove(this.touch)}},{key:"_touchEnd",value:function(){this.touch={startX:0,moveX:0},this.events.touchEnd&&this.events.touchEnd()}}]),t}(),f=document.getElementById("carousel"),h=document.querySelectorAll(".slider__btn"),m=document.querySelectorAll(".slider__control-item"),v=new a({container:f,slidesClass:".carousel__slide",slideTime:.5});function p(t){m.forEach((function(t){return t.classList.remove("slider__control-item_active")})),m[t].classList.add("slider__control-item_active")}function y(){h[0].disabled=0===v.activeSlide,h[1].disabled=v.activeSlide===v.elements.length-1}v.init((function(t){y()})),v.events.onSlideChange=function(t){y(),p(t)},h.forEach((function(t){var e=t.id.split("__")[1];t.addEventListener("click",(function(){v[e](),p(v.activeSlide)}))})),m.forEach((function(t){t.addEventListener("click",(function(e){var n=+t.dataset.index;v.setSlide(n),p(n)}))}));n(2);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e,n){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=x(t);if(e){var o=x(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return k(this,n)}}function k(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(r,t);var e,n,i,o=w(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).slidesOnScreen=t.slidesOnScreen,e}return e=r,(n=[{key:"init",value:function(t){_(x(r.prototype),"init",this).call(this),this.maxSlide=this.elements.length-this.slidesOnScreen,this.elementWidth=this.containerWidth/this.slidesOnScreen+10/this.slidesOnScreen,t()}},{key:"updateElementsInfo",value:function(){_(x(r.prototype),"updateElementsInfo",this).call(this),this.elementWidth=this.containerWidth/this.slidesOnScreen+10/this.slidesOnScreen,this.updateElementsOnScreen(),_(x(r.prototype),"updateElementsInfo",this).call(this),this.maxSlide=this.elements.length-this.slidesOnScreen}},{key:"updateElementsOnScreen",value:function(){var t=this;S(this.sliderDom.elements).map((function(e){e.style.width=t.elementWidth+"px"}))}}])&&E(e.prototype,n),i&&E(e,i),r}(a),j=document.getElementById("carousel-multi"),T=document.querySelectorAll(".about-us__nav-btn"),L=document.getElementById("slider-range"),A=new P({container:j,slidesClass:".carousel_multi__slide",slideTime:.5,slidesOnScreen:6});function C(t){D(),I(t)}function R(){L.setAttribute("min","0"),L.setAttribute("max",A.elements[A.maxSlide].position)}function I(t){L.value=A.elements[t].position}function M(){A.containerWidth<700?A.slidesOnScreen=2:A.containerWidth<1e3?A.slidesOnScreen=4:A.slidesOnScreen=6,R()}function D(){T[0].disabled=0===A.activeSlide,T[1].disabled=A.activeSlide===A.maxSlide}A.init((function(){M(),R(),A.events.onSlideChange=C})),L.addEventListener("input",(function(){var t=+this.value;A.activeTransition(!1),A.sliderDom.moveElements(-t)})),L.addEventListener("change",(function(){var t=A.nextSlideIndexByPosition;A.activeTransition(!0),A.setSlide(t),I(t)})),T.forEach((function(t){t.addEventListener("click",(function(){var e=t.id.split("__")[1];A[e]()}))})),A.adaptive.onResize(M),D();n.p,n.p,n.p,n.p,n.p,n.p,n.p}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9zZXJ2aWNlcy9zZXJ2aWNlcy1kcmFnLW4tZHJvcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9TbGlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY2Fyb3VzZWwvY2Fyb3VzZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvTXVsdGlDYXJvdXNlbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jYXJvdXNlbC1tdWx0aS1pdGVtcy9jYXJvdXNlbC1tdWx0aS1pdGVtcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1nL2RpYWdyYW0uc3ZnIiwid2VicGFjazovLy8uL3NyYy9pbWcvanF1ZXJ5LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1nL3J1bGxlci5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9ydWxsZXJfYm90dG9tLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1nL1BhdGgucG5nIiwid2VicGFjazovLy8uL3NyYy9pbWcvbWFzay5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9iaWdtYXNrLnBuZyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJoZWFkZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwYWdlWU9mZnNldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkIiwicmVtb3ZlIiwiZSIsInByZXZlbnREZWZhdWx0IiwidGhpcyIsInRvZ2dsZSIsInRvZ2dsZVN1Ym1lbnUiLCJ0YXJnZXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsIiwiaGFuZGxlRHJvcCIsIml0ZW0iLCJzZWxlY3RlZEl0ZW0iLCJsaXN0IiwicGFyZW50Tm9kZSIsInN3YXBJdGVtIiwiZWxlbWVudEZyb21Qb2ludCIsImNsaWVudFgiLCJjbGllbnRZIiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJzZXRBdHRyaWJ1dGUiLCJlbmFibGVEcmFnSXRlbSIsImVuYWJsZURyYWdMaXN0IiwiU2xpZGVyIiwiZGF0YSIsInNsaWRlVGltZSIsInNsaWRlckRvbSIsInNsaWRlckRPTSIsInRvdWNoIiwic2xpZGVyVG91Y2giLCJjb250YWluZXIiLCJhZGFwdGl2ZSIsInNsaWRlckFkYXB0aXZlIiwib25SZXNpemVDYWxsYmFjayIsImFjdGl2ZVRyYW5zaXRpb24iLCJ1cGRhdGVFbGVtZW50c0luZm8iLCJzZXRTbGlkZSIsImFjdGl2ZVNsaWRlIiwic2V0VGltZW91dCIsImV2ZW50cyIsImVsZW1lbnRzIiwibWF4U2xpZGUiLCJlbGVtZW50V2lkdGgiLCJjYWxsYmFjayIsImluaXQiLCJpbml0VG91Y2hFdmVudHMiLCJ0b3VjaFN0YXJ0IiwidG91Y2hNb3ZlIiwidG91Y2hFbmQiLCJjb250YWluZXJXaWR0aCIsImxlbmd0aCIsInVuZGVmaW5lZCIsIl9zdGFydEVsZW1lbnRNb3ZlUG9zaXRpb24iLCJjb3RhaW5lclBvc2l0aW9uIiwibW92ZVgiLCJzaGlmdCIsIm1vdmVFbGVtZW50cyIsIm5leHRTbGlkZUluZGV4QnlQb3NpdGlvbiIsImdldFN0YXRpY0VsZW1lbnRzUG9zaXRpb24iLCJpc0FjdGl2ZSIsInN0eWxlIiwidHJhbnNpdGlvbiIsImluZGV4IiwicG9zaXRpb24iLCJvblNsaWRlQ2hhbmdlIiwicGFyZW50UG9zaXRpb24iLCJvZmZzZXRMZWZ0IiwiZ2V0Q29tcHV0ZWRFbGVtZW50c1Bvc2l0aW9uIiwiZmluZEluZGV4Iiwib2Zmc2V0V2lkdGgiLCJzbGlkZXNDbGFzcyIsIm1hcCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImxlZnQiLCJwb3NpdGlvblgiLCJ0cmFuc2Zvcm0iLCJnZXRDb21wdXRlZFN0eWxlIiwiV2ViS2l0Q1NTTWF0cml4IiwibTQxIiwiY2FsbGJhY2tzIiwid2luZG93UmVzaXplZFdpZHRoIiwiaW5pdFJlc2l6ZSIsImV2ZW50IiwicHVzaCIsInN0YXJ0WCIsIl90b3VjaFN0YXJ0IiwiX3RvdWNoTW92ZSIsIl90b3VjaEVuZCIsImNoYW5nZWRUb3VjaGVzIiwicGFnZVgiLCJNYXRoIiwiYWJzIiwiY2Fyb3VzZWwiLCJnZXRFbGVtZW50QnlJZCIsInNsaWRlckNvbnRyb2xzIiwic2xpZGVyQm90dG9tQ29udHJvbHMiLCJzbGlkZXIiLCJjaGVja0NvbnRyb2xzQWN0aXZhdGluZyIsImJ0biIsImNoZWNrQnV0dG9uc0Rpc2FibGluZyIsImRpc2FibGVkIiwiYnRuTmFtZSIsImlkIiwic3BsaXQiLCJkYXRhc2V0IiwiU2xpZGVyTXVsdGlJdGVtcyIsInNsaWRlc09uU2NyZWVuIiwidXBkYXRlRWxlbWVudHNPblNjcmVlbiIsIndpZHRoIiwibXVsdGlTbGlkZXJDb250YWluZXIiLCJuYXZCdG5zIiwic2xpZGVyUmFuZ2UiLCJtdWx0aVNsaWRlciIsInNsaWRlQ2hhbmdlZCIsInNldFJhbmdlVmFsdWUiLCJzZXRSYW5nZUF0dHJpYnV0ZXMiLCJzZXRBbW91bnRTbGlkZXNCeUNvbnRhaW5lcldpZHRoIiwidmFsIiwibmV4dFNsaWRlcklkIiwic2xpZGVEaXIiLCJvblJlc2l6ZSJdLCJtYXBw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LEdBQ2ZBLEVBQUdqQixpQkFBaUIsU0FBUyxXQUMzQixJQUFNZ0ksRUFBVy9HLEVBQUc4RixHQUFHQyxNQUFNLE1BQU0sR0FFbkNTLEVBQVlPLFdBSWhCUCxFQUFZakYsU0FBU3lGLFNBQVNKLEdBVTlCakIsSUNyRWUsSUNBQSxJQ0FBLElDQUEsSUNBQSxJQ0FBLElDQUEiLCJmaWxlIjoianMvaW5kZXgtYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuIiwid2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyXCIpO1xyXG5cclxuICBpZiAoXHJcbiAgICB3aW5kb3cucGFnZVlPZmZzZXQgPiAyMDAgJiZcclxuICAgICFoZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGVhZGVyLW1vYmlsZV9vcGVuXCIpXHJcbiAgKSB7XHJcbiAgICBoZWFkZXIuY2xhc3NMaXN0LmFkZChcImhlYWRlcl9fc21hbGxcIik7XHJcbiAgfSBlbHNlIHtcclxuICAgIGhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKFwiaGVhZGVyX19zbWFsbFwiKTtcclxuICB9XHJcbn0pO1xyXG5cclxuY29uc3QgdG9nZ2xlID0gZG9jdW1lbnRcclxuICAucXVlcnlTZWxlY3RvcihcIi5idXJnZXJcIilcclxuICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlclwiKTtcclxuXHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgICBoZWFkZXIuY2xhc3NMaXN0LnRvZ2dsZShcImhlYWRlci1tb2JpbGVfb3BlblwiKTtcclxuICB9KTtcclxuXHJcbmNvbnN0IHN1Ym1lbnVCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zdWJtZW51XCIpO1xyXG5cclxuc3VibWVudUJ0bnMuZm9yRWFjaCgoZWwpID0+IHtcclxuICBlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlU3VibWVudSk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gdG9nZ2xlU3VibWVudShlKSB7XHJcbiAgaWYgKCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJuYXZfX3N1Ym1lbnVcIikpIHJldHVybjtcclxuXHJcbiAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwic3VibWVudV9hY3RpdmVcIik7XHJcbn1cclxuIiwiZnVuY3Rpb24gZW5hYmxlRHJhZ1NvcnQoKSB7XHJcbiAgY29uc3Qgc29ydGFibGVMaXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2VydmljZXNfX2l0ZW1zLXdyYXBwZXJcIik7XHJcbiAgc29ydGFibGVMaXN0cy5mb3JFYWNoKChsaXN0KSA9PiB7XHJcbiAgICBlbmFibGVEcmFnTGlzdChsaXN0KTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW5hYmxlRHJhZ0xpc3QobGlzdCkge1xyXG4gIGxpc3QucXVlcnlTZWxlY3RvckFsbChcIi5zZXJ2aWNlc19faXRlbVwiKS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICBlbmFibGVEcmFnSXRlbShpdGVtKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW5hYmxlRHJhZ0l0ZW0oaXRlbSkge1xyXG4gIGl0ZW0uc2V0QXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIsIHRydWUpO1xyXG4gIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIGhhbmRsZURyb3ApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEcm9wKGl0ZW0pIHtcclxuICBjb25zdCBzZWxlY3RlZEl0ZW0gPSBpdGVtLnRhcmdldDtcclxuICBjb25zdCBsaXN0ID0gc2VsZWN0ZWRJdGVtLnBhcmVudE5vZGU7XHJcblxyXG4gIGxldCBzd2FwSXRlbSA9XHJcbiAgICBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGl0ZW0uY2xpZW50WCwgaXRlbS5jbGllbnRZKSA9PT0gbnVsbFxyXG4gICAgICA/IHNlbGVjdGVkSXRlbVxyXG4gICAgICA6IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoaXRlbS5jbGllbnRYLCBpdGVtLmNsaWVudFkpO1xyXG5cclxuICBpZiAobGlzdCA9PT0gc3dhcEl0ZW0ucGFyZW50Tm9kZSkge1xyXG4gICAgc3dhcEl0ZW0gPVxyXG4gICAgICBzd2FwSXRlbSAhPT0gc2VsZWN0ZWRJdGVtLm5leHRTaWJsaW5nID8gc3dhcEl0ZW0gOiBzd2FwSXRlbS5uZXh0U2libGluZztcclxuICAgIGxpc3QuaW5zZXJ0QmVmb3JlKHNlbGVjdGVkSXRlbSwgc3dhcEl0ZW0pO1xyXG4gIH1cclxufVxyXG5cclxuZW5hYmxlRHJhZ1NvcnQoKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhKSB7XHJcbiAgICB0aGlzLnNsaWRlVGltZSA9IGRhdGEuc2xpZGVUaW1lO1xyXG4gICAgdGhpcy5zbGlkZXJEb20gPSBuZXcgc2xpZGVyRE9NKGRhdGEpO1xyXG4gICAgdGhpcy50b3VjaCA9IG5ldyBzbGlkZXJUb3VjaChkYXRhLmNvbnRhaW5lcik7XHJcbiAgICB0aGlzLmFkYXB0aXZlID0gbmV3IHNsaWRlckFkYXB0aXZlKHtcclxuICAgICAgb25SZXNpemVDYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYWN0aXZlVHJhbnNpdGlvbihmYWxzZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50c0luZm8oKTtcclxuICAgICAgICB0aGlzLnNldFNsaWRlKHRoaXMuYWN0aXZlU2xpZGUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hY3RpdmVUcmFuc2l0aW9uKHRydWUpO1xyXG4gICAgICAgIH0sIDEwKTtcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICB0aGlzLmV2ZW50cyA9IHt9O1xyXG4gICAgdGhpcy5lbGVtZW50cyA9IHt9O1xyXG4gICAgdGhpcy5hY3RpdmVTbGlkZSA9IDA7XHJcbiAgICB0aGlzLm1heFNsaWRlID0gbnVsbDtcclxuICAgIHRoaXMuZWxlbWVudFdpZHRoID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGluaXQoY2FsbGJhY2spIHtcclxuICAgIHRoaXMuc2xpZGVyRG9tLmluaXQoKTtcclxuICAgIHRoaXMuYWRhcHRpdmUuaW5pdCgpO1xyXG5cclxuICAgIHRoaXMudXBkYXRlRWxlbWVudHNJbmZvKCk7XHJcbiAgICB0aGlzLmFjdGl2ZVRyYW5zaXRpb24odHJ1ZSk7XHJcblxyXG4gICAgdGhpcy50b3VjaC5pbml0VG91Y2hFdmVudHMoe1xyXG4gICAgICB0b3VjaFN0YXJ0OiB0aGlzLnRvdWNoU3RhcnQuYmluZCh0aGlzKSxcclxuICAgICAgdG91Y2hNb3ZlOiB0aGlzLnRvdWNoTW92ZS5iaW5kKHRoaXMpLFxyXG4gICAgICB0b3VjaEVuZDogdGhpcy50b3VjaEVuZC5iaW5kKHRoaXMpLFxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50V2lkdGggPSB0aGlzLmNvbnRhaW5lcldpZHRoO1xyXG5cclxuICAgIHRoaXMubWF4U2xpZGUgPSB0aGlzLmVsZW1lbnRzLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgaWYgKGNhbGxiYWNrICE9PSB1bmRlZmluZWQpIGNhbGxiYWNrKCk7XHJcbiAgfVxyXG5cclxuICB0b3VjaFN0YXJ0KCkge1xyXG4gICAgdGhpcy5hY3RpdmVUcmFuc2l0aW9uKGZhbHNlKTtcclxuICAgIHRoaXMuX3N0YXJ0RWxlbWVudE1vdmVQb3NpdGlvbiA9IHRoaXMuc2xpZGVyRG9tLmNvdGFpbmVyUG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBfc3RhcnRFbGVtZW50TW92ZVBvc2l0aW9uID0gbnVsbDtcclxuICB0b3VjaE1vdmUoeyBtb3ZlWCB9KSB7XHJcbiAgICBjb25zdCBzaGlmdCA9IHRoaXMuX3N0YXJ0RWxlbWVudE1vdmVQb3NpdGlvbiArIG1vdmVYO1xyXG5cclxuICAgIHRoaXMuc2xpZGVyRG9tLm1vdmVFbGVtZW50cyhzaGlmdCk7XHJcbiAgfVxyXG5cclxuICB0b3VjaEVuZCgpIHtcclxuICAgIHRoaXMuX3N0YXJ0RWxlbWVudE1vdmVQb3NpdGlvbiA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5hY3RpdmVUcmFuc2l0aW9uKHRydWUpO1xyXG5cclxuICAgIHRoaXMuc2V0U2xpZGUodGhpcy5uZXh0U2xpZGVJbmRleEJ5UG9zaXRpb24pO1xyXG4gIH1cclxuXHJcbiAgZ2V0IG5leHRTbGlkZUluZGV4QnlQb3NpdGlvbigpIHtcclxuICAgIGNvbnN0IHBhcmVudFBvc2l0aW9uID0gdGhpcy5zbGlkZXJEb20uY29udGFpbmVyLnBhcmVudE5vZGUub2Zmc2V0TGVmdDtcclxuXHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuc2xpZGVyRG9tXHJcbiAgICAgIC5nZXRDb21wdXRlZEVsZW1lbnRzUG9zaXRpb24oKVxyXG4gICAgICAuZmluZEluZGV4KChlbCkgPT4gZWwucG9zaXRpb24gKyB0aGlzLmVsZW1lbnRXaWR0aCAvIDIgPiBwYXJlbnRQb3NpdGlvbik7XHJcblxyXG4gICAgcmV0dXJuIGluZGV4ID49IDAgPyBpbmRleCA6IHRoaXMubWF4U2xpZGU7XHJcbiAgfVxyXG5cclxuICBnZXQgY29udGFpbmVyV2lkdGgoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zbGlkZXJEb20uY29udGFpbmVyLm9mZnNldFdpZHRoO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlRWxlbWVudHNJbmZvKCkge1xyXG4gICAgdGhpcy5lbGVtZW50cyA9IHRoaXMuc2xpZGVyRG9tLmdldFN0YXRpY0VsZW1lbnRzUG9zaXRpb24oKTtcclxuICB9XHJcblxyXG4gIG5leHQoKSB7XHJcbiAgICB0aGlzLnNldFNsaWRlKCsrdGhpcy5hY3RpdmVTbGlkZSk7XHJcbiAgfVxyXG5cclxuICBwcmV2KCkge1xyXG4gICAgdGhpcy5zZXRTbGlkZSgtLXRoaXMuYWN0aXZlU2xpZGUpO1xyXG4gIH1cclxuXHJcbiAgYWN0aXZlVHJhbnNpdGlvbihpc0FjdGl2ZSkge1xyXG4gICAgdGhpcy5zbGlkZXJEb20uY29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSBpc0FjdGl2ZVxyXG4gICAgICA/IGB0cmFuc2Zvcm0gJHt0aGlzLnNsaWRlVGltZX1zIGVhc2VgXHJcbiAgICAgIDogXCJub25lXCI7XHJcbiAgfVxyXG5cclxuICBzZXRTbGlkZShpbmRleCkge1xyXG4gICAgaWYgKGluZGV4ICE9PSB0aGlzLmFjdGl2ZVNsaWRlKSB0aGlzLmFjdGl2ZVRyYW5zaXRpb24odHJ1ZSk7XHJcblxyXG4gICAgaW5kZXggPSBpbmRleCA8IDAgPyAwIDogaW5kZXggPiB0aGlzLm1heFNsaWRlID8gdGhpcy5tYXhTbGlkZSA6IGluZGV4O1xyXG5cclxuICAgIGNvbnN0IHNoaWZ0ID0gdGhpcy5lbGVtZW50c1tpbmRleF0ucG9zaXRpb247XHJcblxyXG4gICAgdGhpcy5hY3RpdmVTbGlkZSA9IGluZGV4O1xyXG4gICAgdGhpcy5zbGlkZXJEb20ubW92ZUVsZW1lbnRzKC1zaGlmdCk7XHJcblxyXG4gICAgaWYgKHRoaXMuZXZlbnRzLm9uU2xpZGVDaGFuZ2UgIT09IHVuZGVmaW5lZCkgdGhpcy5ldmVudHMub25TbGlkZUNoYW5nZShpbmRleCk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuY2xhc3Mgc2xpZGVyRE9NIHtcclxuICBjb25zdHJ1Y3Rvcih7IGNvbnRhaW5lciwgc2xpZGVzQ2xhc3MgfSkge1xyXG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICB0aGlzLnNsaWRlc0NsYXNzID0gc2xpZGVzQ2xhc3M7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50cyA9IFtdO1xyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuZWxlbWVudHMgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuc2xpZGVzQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGNvdGFpbmVyUG9zaXRpb24oKSB7XHJcbiAgICBjb25zdCB7IHRyYW5zZm9ybSB9ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5jb250YWluZXIpO1xyXG4gICAgcmV0dXJuIG5ldyBXZWJLaXRDU1NNYXRyaXgodHJhbnNmb3JtKS5tNDE7XHJcbiAgfVxyXG5cclxuICBnZXRTdGF0aWNFbGVtZW50c1Bvc2l0aW9uKCkge1xyXG4gICAgcmV0dXJuIFsuLi50aGlzLmVsZW1lbnRzXS5tYXAoKGVsKSA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcG9zaXRpb246IGVsLm9mZnNldExlZnQsXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldENvbXB1dGVkRWxlbWVudHNQb3NpdGlvbigpIHtcclxuICAgIHJldHVybiBbLi4udGhpcy5lbGVtZW50c10ubWFwKChlbCkgPT4ge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHBvc2l0aW9uOiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LFxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBtb3ZlRWxlbWVudHMocG9zaXRpb25YKSB7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3Bvc2l0aW9uWH1weClgO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmNsYXNzIHNsaWRlckFkYXB0aXZlIHtcclxuICBjb25zdHJ1Y3Rvcih7IG9uUmVzaXplQ2FsbGJhY2sgfSkge1xyXG4gICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcclxuICAgIHRoaXMud2luZG93UmVzaXplZFdpZHRoID0gMDtcclxuICAgIHRoaXMub25SZXNpemVDYWxsYmFjayA9IG9uUmVzaXplQ2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5pbml0UmVzaXplLmJpbmQodGhpcykpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIHRoaXMuaW5pdFJlc2l6ZS5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIGluaXRSZXNpemUoZXZlbnQpIHtcclxuICAgIHRoaXMub25SZXNpemVDYWxsYmFjaygpO1xyXG4gICAgdGhpcy5jYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKGV2ZW50KSk7XHJcbiAgfVxyXG5cclxuICBvblJlc2l6ZShjYWxsYmFjaykge1xyXG4gICAgdGhpcy5jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuY2xhc3Mgc2xpZGVyVG91Y2gge1xyXG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xyXG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcblxyXG4gICAgdGhpcy50b3VjaCA9IHtcclxuICAgICAgc3RhcnRYOiAwLFxyXG4gICAgICBtb3ZlWDogMCxcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy5ldmVudHMgPSB7fTtcclxuICB9XHJcblxyXG4gIGluaXRUb3VjaEV2ZW50cyhjYWxsYmFja3MpIHtcclxuICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuX3RvdWNoU3RhcnQuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuX3RvdWNoTW92ZS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLl90b3VjaEVuZC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICB0aGlzLmV2ZW50cyA9IGNhbGxiYWNrcztcclxuICB9XHJcblxyXG4gIF90b3VjaFN0YXJ0KGUpIHtcclxuICAgIHRoaXMudG91Y2guc3RhcnRYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDtcclxuXHJcbiAgICBpZiAodGhpcy5ldmVudHMudG91Y2hTdGFydCkgdGhpcy5ldmVudHMudG91Y2hTdGFydCh0aGlzLnRvdWNoKTtcclxuICB9XHJcbiAgX3RvdWNoTW92ZShlKSB7XHJcbiAgICB0aGlzLnRvdWNoLm1vdmVYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWCAtIHRoaXMudG91Y2guc3RhcnRYO1xyXG5cclxuICAgIGlmIChNYXRoLmFicyh0aGlzLnRvdWNoLm1vdmVYKSA8IDIwKSByZXR1cm47XHJcblxyXG4gICAgaWYgKHRoaXMuZXZlbnRzLnRvdWNoTW92ZSkgdGhpcy5ldmVudHMudG91Y2hNb3ZlKHRoaXMudG91Y2gpO1xyXG4gIH1cclxuICBfdG91Y2hFbmQoKSB7XHJcbiAgICB0aGlzLnRvdWNoID0ge1xyXG4gICAgICBzdGFydFg6IDAsXHJcbiAgICAgIG1vdmVYOiAwLFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAodGhpcy5ldmVudHMudG91Y2hFbmQpIHRoaXMuZXZlbnRzLnRvdWNoRW5kKCk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBjbGFzcyBzbGlkZXJFdmVudHMge1xyXG4vLyAgIGNvbnN0cnVjdG9yKHtvblNsaWRlQ2hhbmdlfSkge1xyXG4vLyAgICAgdGhpcy5vblNsaWRlQ2hhbmdlID0gb25TbGlkZUNoYW5nZTtcclxuLy8gICB9XHJcblxyXG4vLyB9IiwiaW1wb3J0IFNsaWRlciBmcm9tIFwiLi4vLi4vc2NyaXB0cy9TbGlkZXJcIjtcclxuXHJcbmNvbnN0IGNhcm91c2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYXJvdXNlbFwiKTtcclxuXHJcbmNvbnN0IHNsaWRlckNvbnRyb2xzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zbGlkZXJfX2J0blwiKTtcclxuY29uc3Qgc2xpZGVyQm90dG9tQ29udHJvbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNsaWRlcl9fY29udHJvbC1pdGVtXCIpO1xyXG5cclxuY29uc3Qgc2xpZGVyID0gbmV3IFNsaWRlcih7XHJcbiAgY29udGFpbmVyOiBjYXJvdXNlbCxcclxuICBzbGlkZXNDbGFzczogXCIuY2Fyb3VzZWxfX3NsaWRlXCIsXHJcbiAgc2xpZGVUaW1lOiAwLjUsXHJcbn0pO1xyXG5cclxuc2xpZGVyLmluaXQoKGluZGV4KT0+e1xyXG4gIGNoZWNrQnV0dG9uc0Rpc2FibGluZyhpbmRleCk7XHJcbn0pO1xyXG5cclxuICBzbGlkZXIuZXZlbnRzLm9uU2xpZGVDaGFuZ2UgPSAoaW5kZXgpID0+IHtcclxuICBjaGVja0J1dHRvbnNEaXNhYmxpbmcoKTtcclxuICBjaGVja0NvbnRyb2xzQWN0aXZhdGluZyhpbmRleCk7XHJcbn07XHJcblxyXG5zbGlkZXJDb250cm9scy5mb3JFYWNoKChidG4pID0+IHtcclxuICBjb25zdCBidG5OYW1lID0gYnRuLmlkLnNwbGl0KFwiX19cIilbMV07XHJcblxyXG4gIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgc2xpZGVyW2J0bk5hbWVdKCk7XHJcblxyXG4gICAgY2hlY2tDb250cm9sc0FjdGl2YXRpbmcoc2xpZGVyLmFjdGl2ZVNsaWRlKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5zbGlkZXJCb3R0b21Db250cm9scy5mb3JFYWNoKChlbCkgPT4ge1xyXG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgY29uc3QgaW5kZXggPSArZWwuZGF0YXNldC5pbmRleDtcclxuXHJcbiAgICBzbGlkZXIuc2V0U2xpZGUoaW5kZXgpO1xyXG5cclxuICAgIGNoZWNrQ29udHJvbHNBY3RpdmF0aW5nKGluZGV4KTtcclxuICB9KTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjaGVja0NvbnRyb2xzQWN0aXZhdGluZyhpKSB7XHJcbiAgc2xpZGVyQm90dG9tQ29udHJvbHMuZm9yRWFjaCgoYnRuKSA9PlxyXG4gICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJzbGlkZXJfX2NvbnRyb2wtaXRlbV9hY3RpdmVcIilcclxuICApO1xyXG4gIHNsaWRlckJvdHRvbUNvbnRyb2xzW2ldLmNsYXNzTGlzdC5hZGQoXCJzbGlkZXJfX2NvbnRyb2wtaXRlbV9hY3RpdmVcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrQnV0dG9uc0Rpc2FibGluZygpIHtcclxuICBzbGlkZXJDb250cm9sc1swXS5kaXNhYmxlZCA9IHNsaWRlci5hY3RpdmVTbGlkZSA9PT0gMDtcclxuICBzbGlkZXJDb250cm9sc1sxXS5kaXNhYmxlZCA9XHJcbiAgICBzbGlkZXIuYWN0aXZlU2xpZGUgPT09IHNsaWRlci5lbGVtZW50cy5sZW5ndGggLSAxO1xyXG59XHJcbiIsImltcG9ydCBTbGlkZXIgZnJvbSBcIi4vU2xpZGVyXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyTXVsdGlJdGVtcyBleHRlbmRzIFNsaWRlciB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgc3VwZXIoZGF0YSk7XHJcbiAgICB0aGlzLnNsaWRlc09uU2NyZWVuID0gZGF0YS5zbGlkZXNPblNjcmVlbjtcclxuICB9XHJcblxyXG4gIGluaXQoY2FsbGJhY2spIHtcclxuICAgIHN1cGVyLmluaXQoKTtcclxuICAgIHRoaXMubWF4U2xpZGUgPSB0aGlzLmVsZW1lbnRzLmxlbmd0aCAtIHRoaXMuc2xpZGVzT25TY3JlZW47XHJcbiAgICB0aGlzLmVsZW1lbnRXaWR0aCA9ICh0aGlzLmNvbnRhaW5lcldpZHRoIC8gdGhpcy5zbGlkZXNPblNjcmVlbikgKyAxMCAvIHRoaXMuc2xpZGVzT25TY3JlZW47XHJcbiAgICBcclxuICAgIGNhbGxiYWNrKCk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVFbGVtZW50c0luZm8oKSB7XHJcbiAgICBzdXBlci51cGRhdGVFbGVtZW50c0luZm8oKTtcclxuICAgIFxyXG4gICAgdGhpcy5lbGVtZW50V2lkdGggPSAodGhpcy5jb250YWluZXJXaWR0aCAvIHRoaXMuc2xpZGVzT25TY3JlZW4pICsgMTAgLyB0aGlzLnNsaWRlc09uU2NyZWVuO1xyXG5cclxuICAgIHRoaXMudXBkYXRlRWxlbWVudHNPblNjcmVlbigpXHJcbiAgICBzdXBlci51cGRhdGVFbGVtZW50c0luZm8oKTtcclxuXHJcbiAgICB0aGlzLm1heFNsaWRlID0gdGhpcy5lbGVtZW50cy5sZW5ndGggLSB0aGlzLnNsaWRlc09uU2NyZWVuO1xyXG4gIH1cclxuICBcclxuICB1cGRhdGVFbGVtZW50c09uU2NyZWVuKCkge1xyXG4gICAgWy4uLnRoaXMuc2xpZGVyRG9tLmVsZW1lbnRzXS5tYXAoKGVsKT0+e1xyXG4gICAgICBlbC5zdHlsZS53aWR0aCA9IHRoaXMuZWxlbWVudFdpZHRoKydweCc7XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgU2xpZGVyTXVsdGlJdGVtcyBmcm9tIFwiLi4vLi4vc2NyaXB0cy9NdWx0aUNhcm91c2VsXCI7XHJcblxyXG5jb25zdCBtdWx0aVNsaWRlckNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2Fyb3VzZWwtbXVsdGlcIik7XHJcbmNvbnN0IG5hdkJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFib3V0LXVzX19uYXYtYnRuXCIpO1xyXG5jb25zdCBzbGlkZXJSYW5nZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2xpZGVyLXJhbmdlXCIpO1xyXG5cclxuY29uc3QgbXVsdGlTbGlkZXIgPSBuZXcgU2xpZGVyTXVsdGlJdGVtcyh7XHJcbiAgY29udGFpbmVyOiBtdWx0aVNsaWRlckNvbnRhaW5lcixcclxuICBzbGlkZXNDbGFzczogXCIuY2Fyb3VzZWxfbXVsdGlfX3NsaWRlXCIsXHJcbiAgc2xpZGVUaW1lOiAwLjUsXHJcbiAgc2xpZGVzT25TY3JlZW46IDYsXHJcbn0pO1xyXG5cclxubXVsdGlTbGlkZXIuaW5pdChmdW5jdGlvbiAoKSB7XHJcbiAgc2V0QW1vdW50U2xpZGVzQnlDb250YWluZXJXaWR0aCgpO1xyXG4gIHNldFJhbmdlQXR0cmlidXRlcygpO1xyXG5cclxuICBtdWx0aVNsaWRlci5ldmVudHMub25TbGlkZUNoYW5nZSA9IHNsaWRlQ2hhbmdlZDtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBzbGlkZUNoYW5nZWQoaW5kZXgpIHtcclxuICBjaGVja0J1dHRvbnNEaXNhYmxpbmcoaW5kZXgpO1xyXG4gIHNldFJhbmdlVmFsdWUoaW5kZXgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRSYW5nZUF0dHJpYnV0ZXMoKSB7XHJcbiAgc2xpZGVyUmFuZ2Uuc2V0QXR0cmlidXRlKFwibWluXCIsIFwiMFwiKTtcclxuICBzbGlkZXJSYW5nZS5zZXRBdHRyaWJ1dGUoXHJcbiAgICBcIm1heFwiLFxyXG4gICAgbXVsdGlTbGlkZXIuZWxlbWVudHNbbXVsdGlTbGlkZXIubWF4U2xpZGVdLnBvc2l0aW9uXHJcbiAgKTtcclxufVxyXG5cclxuc2xpZGVyUmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCB2YWwgPSArdGhpcy52YWx1ZTtcclxuXHJcbiAgbXVsdGlTbGlkZXIuYWN0aXZlVHJhbnNpdGlvbihmYWxzZSk7XHJcbiAgbXVsdGlTbGlkZXIuc2xpZGVyRG9tLm1vdmVFbGVtZW50cygtdmFsKTtcclxufSk7XHJcblxyXG5zbGlkZXJSYW5nZS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBuZXh0U2xpZGVySWQgPSBtdWx0aVNsaWRlci5uZXh0U2xpZGVJbmRleEJ5UG9zaXRpb247XHJcbiAgbXVsdGlTbGlkZXIuYWN0aXZlVHJhbnNpdGlvbih0cnVlKTtcclxuICBtdWx0aVNsaWRlci5zZXRTbGlkZShuZXh0U2xpZGVySWQpO1xyXG4gIHNldFJhbmdlVmFsdWUobmV4dFNsaWRlcklkKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBzZXRSYW5nZVZhbHVlKGluZGV4KSB7XHJcbiAgc2xpZGVyUmFuZ2UudmFsdWUgPSBtdWx0aVNsaWRlci5lbGVtZW50c1tpbmRleF0ucG9zaXRpb247XHJcbn1cclxuXHJcbm5hdkJ0bnMuZm9yRWFjaCgoZWwpID0+IHtcclxuICBlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgY29uc3Qgc2xpZGVEaXIgPSBlbC5pZC5zcGxpdChcIl9fXCIpWzFdO1xyXG5cclxuICAgIG11bHRpU2xpZGVyW3NsaWRlRGlyXSgpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbm11bHRpU2xpZGVyLmFkYXB0aXZlLm9uUmVzaXplKHNldEFtb3VudFNsaWRlc0J5Q29udGFpbmVyV2lkdGgpO1xyXG5cclxuZnVuY3Rpb24gc2V0QW1vdW50U2xpZGVzQnlDb250YWluZXJXaWR0aCgpIHtcclxuICBpZiAobXVsdGlTbGlkZXIuY29udGFpbmVyV2lkdGggPCA3MDApIG11bHRpU2xpZGVyLnNsaWRlc09uU2NyZWVuID0gMjtcclxuICBlbHNlIGlmIChtdWx0aVNsaWRlci5jb250YWluZXJXaWR0aCA8IDEwMDApIG11bHRpU2xpZGVyLnNsaWRlc09uU2NyZWVuID0gNDtcclxuICBlbHNlIG11bHRpU2xpZGVyLnNsaWRlc09uU2NyZWVuID0gNjtcclxuICBcclxuICBzZXRSYW5nZUF0dHJpYnV0ZXMoKTtcclxufVxyXG5cclxuY2hlY2tCdXR0b25zRGlzYWJsaW5nKCk7XHJcbmZ1bmN0aW9uIGNoZWNrQnV0dG9uc0Rpc2FibGluZygpIHtcclxuICBuYXZCdG5zWzBdLmRpc2FibGVkID0gbXVsdGlTbGlkZXIuYWN0aXZlU2xpZGUgPT09IDA7XHJcbiAgbmF2QnRuc1sxXS5kaXNhYmxlZCA9IG11bHRpU2xpZGVyLmFjdGl2ZVNsaWRlID09PSBtdWx0aVNsaWRlci5tYXhTbGlkZTtcclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1nL2RpYWdyYW0uc3ZnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltZy9qcXVlcnkucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltZy9ydWxsZXIucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltZy9ydWxsZXJfYm90dG9tLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWcvUGF0aC5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1nL21hc2sucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltZy9iaWdtYXNrLnBuZ1wiOyJdLCJzb3VyY2VSb290IjoiIn0=