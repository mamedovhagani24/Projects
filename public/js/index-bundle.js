!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){},function(t,e){window.addEventListener("scroll",(function(){var t=document.querySelector(".header");window.pageYOffset>200&&!t.classList.contains("header-mobile_open")?t.classList.add("header__small"):t.classList.remove("header__small")}));document.querySelector(".burger").addEventListener("click",(function(t){var e=document.querySelector(".header");t.preventDefault(),this.classList.toggle("active"),e.classList.toggle("header-mobile_open")}));function n(t){t.target.classList.contains("nav__submenu")&&this.classList.toggle("submenu_active")}document.querySelectorAll(".submenu").forEach((function(t){t.addEventListener("click",n)}))},function(t,e){function n(t){var e=t.target,n=e.parentNode,i=null===document.elementFromPoint(t.clientX,t.clientY)?e:document.elementFromPoint(t.clientX,t.clientY);n===i.parentNode&&(i=i!==e.nextSibling?i:i.nextSibling,n.insertBefore(e,i))}document.querySelectorAll(".services__items-wrapper").forEach((function(t){!function(t){t.querySelectorAll(".services__item").forEach((function(t){!function(t){t.setAttribute("draggable",!0),t.addEventListener("dragend",n)}(t)}))}(t)}))},,,function(t,e,n){"use strict";n.r(e);n(0),n(1);function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var a=function(){function t(e){var n,i,o,s=this;r(this,t),o=null,(i="_startElementMovePosition")in(n=this)?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,this.slideTime=e.slideTime,this.sliderDom=new l(e),this.touch=new d(e.container),this.adaptive=new u({onResizeCallback:function(){s.activeTransition(!1),s.updateElementsInfo(),s.setSlide(s.activeSlide),setTimeout((function(){s.activeTransition(!0)}),10)}}),this.elements={},this.activeSlide=0,this.maxSlide=null,this.elementWidth=null}return c(t,[{key:"init",value:function(){this.sliderDom.init(),this.adaptive.init(),this.updateElementsInfo(),this.activeTransition(!0),this.touch.initTouchEvents({touchStart:this.touchStart.bind(this),touchMove:this.touchMove.bind(this),touchEnd:this.touchEnd.bind(this)}),this.elementWidth=this.containerWidth,this.maxSlide=this.elements.length-1}},{key:"touchStart",value:function(){this.activeTransition(!1)}},{key:"touchMove",value:function(t){var e,n=t.moveX;this._startElementMovePosition=null!==(e=this._startElementMovePosition)&&void 0!==e?e:this.sliderDom.cotainerPosition;var i=this._startElementMovePosition+n;this.sliderDom.moveElements(i)}},{key:"touchEnd",value:function(){this._startElementMovePosition=null,this.activeTransition(!0),this.setSlide(this.nextSlideIndexByPosition)}},{key:"updateElementsInfo",value:function(){this.elements=this.sliderDom.getStaticElementsPosition()}},{key:"next",value:function(){this.setSlide(++this.activeSlide)}},{key:"prev",value:function(){this.setSlide(--this.activeSlide)}},{key:"activeTransition",value:function(t){this.sliderDom.container.style.transition=t?"transform ".concat(this.slideTime,"s ease"):"none"}},{key:"setSlide",value:function(t){t!==this.activeSlide&&this.activeTransition(!0),t=t<0?0:t>this.maxSlide?this.maxSlide:t;var e=this.elements[t].position;this.activeSlide=t,this.sliderDom.moveElements(-e)}},{key:"nextSlideIndexByPosition",get:function(){var t=this,e=this.sliderDom.getComputedElementsPosition().findIndex((function(e){return e.position+t.elementWidth/2>0}));return e>=0?e:this.maxSlide}},{key:"containerWidth",get:function(){return this.sliderDom.container.offsetWidth}}]),t}(),l=function(){function t(e){var n=e.container,i=e.slidesClass;r(this,t),this.container=n,this.slidesClass=i,this.elements=[]}return c(t,[{key:"init",value:function(){this.elements=this.container.querySelectorAll(this.slidesClass)}},{key:"getStaticElementsPosition",value:function(){return i(this.elements).map((function(t){return{position:t.offsetLeft}}))}},{key:"getComputedElementsPosition",value:function(){return i(this.elements).map((function(t){return{position:t.getBoundingClientRect().left}}))}},{key:"moveElements",value:function(t){this.container.style.transform="translateX(".concat(t,"px)")}},{key:"cotainerPosition",get:function(){var t=window.getComputedStyle(this.container).transform;return new WebKitCSSMatrix(t).m41}}]),t}(),u=function(){function t(e){var n=e.onResizeCallback;r(this,t),this.callbacks=[],this.windowResizedWidth=0,this.onResizeCallback=n}return c(t,[{key:"init",value:function(){window.addEventListener("resize",this.initResize.bind(this))}},{key:"initResize",value:function(t){this.onResizeCallback(),this.callbacks.forEach((function(e){return e(t)}))}},{key:"onResize",value:function(t){this.callbacks.push(t)}}]),t}(),d=function(){function t(e){r(this,t),this.container=e,this.touch={startX:0,moveX:0},this.events={}}return c(t,[{key:"initTouchEvents",value:function(t){this.container.addEventListener("touchstart",this._touchStart.bind(this)),this.container.addEventListener("touchmove",this._touchMove.bind(this)),this.container.addEventListener("touchend",this._touchEnd.bind(this)),this.events=t}},{key:"_touchStart",value:function(t){this.touch.startX=t.changedTouches[0].pageX,this.events.touchStart&&this.events.touchStart(this.touch)}},{key:"_touchMove",value:function(t){this.touch.moveX=t.changedTouches[0].pageX-this.touch.startX,Math.abs(this.touch.moveX)<20||this.events.touchMove&&this.events.touchMove(this.touch)}},{key:"_touchEnd",value:function(){this.touch={startX:0,moveX:0},this.events.touchEnd&&this.events.touchEnd()}}]),t}(),f=document.getElementById("carousel"),h=document.querySelectorAll(".slider__btn"),m=document.querySelectorAll(".slider__control-item"),v=new a({container:f,slidesClass:".carousel__slide",slideTime:.5});function p(t){m.forEach((function(t){return t.classList.remove("slider__control-item_active")})),m[t].classList.add("slider__control-item_active")}function y(){h[0].disabled=0===v.activeSlide,h[1].disabled=v.activeSlide===v.elements.length-1}v.init(),h.forEach((function(t){var e=t.id.split("__")[1];t.addEventListener("click",(function(){v[e](),p(v.activeSlide),y()}))})),y(),m.forEach((function(t){t.addEventListener("click",(function(e){var n=+t.dataset.index;v.setSlide(n),p(n),y()}))}));n(2);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e,n){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=x(t);if(e){var o=x(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return w(this,n)}}function w(t,e){return!e||"object"!==b(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(r,t);var e,n,i,o=k(r);function r(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=o.call(this,t)).slidesOnScreen=t.slidesOnScreen,e}return e=r,(n=[{key:"init",value:function(){_(x(r.prototype),"init",this).call(this),this.maxSlide=this.elements.length-this.slidesOnScreen,this.elementWidth=this.containerWidth/this.slidesOnScreen+10/this.slidesOnScreen}},{key:"updateElementsInfo",value:function(){_(x(r.prototype),"updateElementsInfo",this).call(this),this.elementWidth=this.containerWidth/this.slidesOnScreen+10/this.slidesOnScreen,this.updateElementsOnScreen(),_(x(r.prototype),"updateElementsInfo",this).call(this),this.maxSlide=this.elements.length-this.slidesOnScreen}},{key:"updateElementsOnScreen",value:function(){var t=this;S(this.sliderDom.elements).map((function(e){e.style.width=t.elementWidth+"px"}))}}])&&E(e.prototype,n),i&&E(e,i),r}(a),j=document.getElementById("carousel-multi"),T=document.querySelectorAll(".about-us__nav-btn"),A=document.getElementById("slider-range"),L=new P({container:j,slidesClass:".carousel_multi__slide",slideTime:.5,slidesOnScreen:6});function M(){L.containerWidth<1e3&&(L.slidesOnScreen=4),L.containerWidth<700?L.slidesOnScreen=2:L.slidesOnScreen=6}function I(){T[0].disabled=0===L.activeSlide,T[1].disabled=L.activeSlide===L.maxSlide}M(),L.init(),A.setAttribute("min","0"),A.setAttribute("max",L.elements[L.maxSlide].position),A.addEventListener("input",(function(){var t=+this.value;L.activeTransition(!1),L.sliderDom.moveElements(-t)})),A.addEventListener("change",(function(){var t=L.nextSlideIndexByPosition;L.activeTransition(!0),L.setSlide(t)})),T.forEach((function(t){t.addEventListener("click",(function(){var e=t.id.split("__")[1];L[e](),I()}))})),L.adaptive.onResize(M),I();n.p,n.p,n.p,n.p,n.p,n.p,n.p}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9zZXJ2aWNlcy9zZXJ2aWNlcy1kcmFnLW4tZHJvcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9TbGlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvY2Fyb3VzZWwvY2Fyb3VzZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvTXVsdGlDYXJvdXNlbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jYXJvdXNlbC1tdWx0aS1pdGVtcy9jYXJvdXNlbC1tdWx0aS1pdGVtcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1nL2RpYWdyYW0uc3ZnIiwid2VicGFjazovLy8uL3NyYy9pbWcvanF1ZXJ5LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1nL3J1bGxlci5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9ydWxsZXJfYm90dG9tLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1nL1BhdGgucG5nIiwid2VicGFjazovLy8uL3NyYy9pbWcvbWFzay5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9iaWdtYXNrLnBuZyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJoZWFkZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwYWdlWU9mZnNldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkIiwicmVtb3ZlIiwiZSIsInByZXZlbnREZWZhdWx0IiwidGhpcyIsInRvZ2dsZSIsInRvZ2dsZVN1Ym1lbnUiLCJ0YXJnZXQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsIiwiaGFuZGxlRHJvcCIsIml0ZW0iLCJzZWxlY3RlZEl0ZW0iLCJsaXN0IiwicGFyZW50Tm9kZSIsInN3YXBJdGVtIiwiZWxlbWVudEZyb21Qb2ludCIsImNsaWVudFgiLCJjbGllbnRZIiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJzZXRBdHRyaWJ1dGUiLCJlbmFibGVEcmFnSXRlbSIsImVuYWJsZURyYWdMaXN0IiwiU2xpZGVyIiwiZGF0YSIsInNsaWRlVGltZSIsInNsaWRlckRvbSIsInNsaWRlckRPTSIsInRvdWNoIiwic2xpZGVyVG91Y2giLCJjb250YWluZXIiLCJhZGFwdGl2ZSIsInNsaWRlckFkYXB0aXZlIiwib25SZXNpemVDYWxsYmFjayIsImFjdGl2ZVRyYW5zaXRpb24iLCJ1cGRhdGVFbGVtZW50c0luZm8iLCJzZXRTbGlkZSIsImFjdGl2ZVNsaWRlIiwic2V0VGltZW91dCIsImVsZW1lbnRzIiwibWF4U2xpZGUiLCJlbGVtZW50V2lkdGgiLCJpbml0IiwiaW5pdFRvdWNoRXZlbnRzIiwidG91Y2hTdGFydCIsInRvdWNoTW92ZSIsInRvdWNoRW5kIiwiY29udGFpbmVyV2lkdGgiLCJsZW5ndGgiLCJtb3ZlWCIsIl9zdGFydEVsZW1lbnRNb3ZlUG9zaXRpb24iLCJjb3RhaW5lclBvc2l0aW9uIiwic2hpZnQiLCJtb3ZlRWxlbWVudHMiLCJuZXh0U2xpZGVJbmRleEJ5UG9zaXRpb24iLCJnZXRTdGF0aWNFbGVtZW50c1Bvc2l0aW9uIiwiaXNBY3RpdmUiLCJzdHlsZSIsInRyYW5zaXRpb24iLCJpbmRleCIsInBvc2l0aW9uIiwiZ2V0Q29tcHV0ZWRFbGVtZW50c1Bvc2l0aW9uIiwiZmluZEluZGV4Iiwib2Zmc2V0V2lkdGgiLCJzbGlkZXNDbGFzcyIsIm1hcCIsIm9mZnNldExlZnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJsZWZ0IiwicG9zaXRpb25YIiwidHJhbnNmb3JtIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIldlYktpdENTU01hdHJpeCIsIm00MSIsImNhbGxiYWNrcyIsIndpbmRvd1Jlc2l6ZWRXaWR0aCIsImluaXRSZXNpemUiLCJldmVudCIsImNhbGxiYWNrIiwicHVzaCIsInN0YXJ0WCIsImV2ZW50cyIsIl90b3VjaFN0YXJ0IiwiX3RvdWNoTW92ZSIsIl90b3VjaEVuZCIsImNoYW5nZWRUb3VjaGVzIiwicGFnZVgiLCJNYXRoIiwiYWJzIiwiY2Fyb3VzZWwiLCJnZXRFbGVtZW50QnlJZCIsInNsaWRlckNvbnRyb2xzIiwic2xpZGVyQm90dG9tQ29udHJvbHMiLCJzbGlkZXIiLCJjaGVja0NvbnRyb2xzRGlzYWJsaW5nIiwiYnRuIiwiY2hlY2tCdXR0b25zRGlzYWJsaW5nIiwiZGlzYWJsZWQiLCJidG5OYW1lIiwiaWQiLCJzcGxpdCIsImRhdGFzZXQiLCJTbGlkZXJNdWx0aUl0ZW1zIiwic2xpZGVzT25TY3JlZW4iLCJ1cGRhdGVFbGVtZW50c09uU2NyZWVuIiwid2lkdGgiLCJtdWx0aVNsaWRlckNvbnRhaW5lciIsIm5hdkJ0bnMiLCJzbGlkZXJSYW5nZSIsIm11bHRpU2xpZGVyIiwic2V0U2xpZGVzT25TY3JlZW5CeUNvbnRhaW5lcldpZHRoIiwidmFsIiwibmV4dFNsaWRlcklkIiwic2xpZGVEaXIiLCJvblJlc2l6ZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFB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QUdWLFNBQXVDLElBQTVCWSxFQUFZeEUsWUFDbENzRSxFQUFRLEdBQUdWLFNBQVdZLEVBQVl4RSxjQUFnQndFLEVBQVlyRSxTQTlDaEVzRSxJQUVBRCxFQUFZbkUsT0FJVmtFLEVBQVl4RixhQUFhLE1BQU8sS0FDaEN3RixFQUFZeEYsYUFBYSxNQUFPeUYsRUFBWXRFLFNBQVNzRSxFQUFZckUsVUFBVW9CLFVBRzdFZ0QsRUFBWXJILGlCQUFpQixTQUFTLFdBQ3BDLElBQU13SCxHQUFPN0csS0FBSzNCLE1BRWxCc0ksRUFBWTNFLGtCQUFpQixHQUM3QjJFLEVBQVluRixVQUFVMkIsY0FBYzBELE1BR3RDSCxFQUFZckgsaUJBQWlCLFVBQVUsV0FDckMsSUFBTXlILEVBQWVILEVBQVl2RCx5QkFDakN1RCxFQUFZM0Usa0JBQWlCLEdBQzdCMkUsRUFBWXpFLFNBQVM0RSxNQUt2QkwsRUFBUXBHLFNBQVEsU0FBQ0MsR0FDZkEsRUFBR2pCLGlCQUFpQixTQUFTLFdBQzNCLElBQU0wSCxFQUFXekcsRUFBRzJGLEdBQUdDLE1BQU0sTUFBTSxHQUVuQ1MsRUFBWUksS0FFWmpCLFVBSUphLEVBQVk5RSxTQUFTbUYsU0FBU0osR0FROUJkLElDeERlLElDQUEsSUNBQSxJQ0FBLElDQUEsSUNBQSxJQ0FBIiwiZmlsZSI6ImpzL2luZGV4LWJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1KTtcbiIsIndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcclxuICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlclwiKTtcclxuXHJcbiAgaWYgKFxyXG4gICAgd2luZG93LnBhZ2VZT2Zmc2V0ID4gMjAwICYmXHJcbiAgICAhaGVhZGVyLmNsYXNzTGlzdC5jb250YWlucyhcImhlYWRlci1tb2JpbGVfb3BlblwiKVxyXG4gICkge1xyXG4gICAgaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXJfX3NtYWxsXCIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBoZWFkZXIuY2xhc3NMaXN0LnJlbW92ZShcImhlYWRlcl9fc21hbGxcIik7XHJcbiAgfVxyXG59KTtcclxuXHJcbmNvbnN0IHRvZ2dsZSA9IGRvY3VtZW50XHJcbiAgLnF1ZXJ5U2VsZWN0b3IoXCIuYnVyZ2VyXCIpXHJcbiAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJcIik7XHJcblxyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG4gICAgaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoXCJoZWFkZXItbW9iaWxlX29wZW5cIik7XHJcbiAgfSk7XHJcblxyXG5jb25zdCBzdWJtZW51QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3VibWVudVwiKTtcclxuXHJcbnN1Ym1lbnVCdG5zLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRvZ2dsZVN1Ym1lbnUpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZVN1Ym1lbnUoZSkge1xyXG4gIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmF2X19zdWJtZW51XCIpKSByZXR1cm47XHJcblxyXG4gIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShcInN1Ym1lbnVfYWN0aXZlXCIpO1xyXG59XHJcbiIsImZ1bmN0aW9uIGVuYWJsZURyYWdTb3J0KCkge1xyXG4gIGNvbnN0IHNvcnRhYmxlTGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnNlcnZpY2VzX19pdGVtcy13cmFwcGVyXCIpO1xyXG4gIHNvcnRhYmxlTGlzdHMuZm9yRWFjaCgobGlzdCkgPT4ge1xyXG4gICAgZW5hYmxlRHJhZ0xpc3QobGlzdCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVuYWJsZURyYWdMaXN0KGxpc3QpIHtcclxuICBsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2VydmljZXNfX2l0ZW1cIikuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgZW5hYmxlRHJhZ0l0ZW0oaXRlbSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVuYWJsZURyYWdJdGVtKGl0ZW0pIHtcclxuICBpdGVtLnNldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiLCB0cnVlKTtcclxuICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBoYW5kbGVEcm9wKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRHJvcChpdGVtKSB7XHJcbiAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gaXRlbS50YXJnZXQ7XHJcbiAgY29uc3QgbGlzdCA9IHNlbGVjdGVkSXRlbS5wYXJlbnROb2RlO1xyXG5cclxuICBsZXQgc3dhcEl0ZW0gPVxyXG4gICAgZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChpdGVtLmNsaWVudFgsIGl0ZW0uY2xpZW50WSkgPT09IG51bGxcclxuICAgICAgPyBzZWxlY3RlZEl0ZW1cclxuICAgICAgOiBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGl0ZW0uY2xpZW50WCwgaXRlbS5jbGllbnRZKTtcclxuXHJcbiAgaWYgKGxpc3QgPT09IHN3YXBJdGVtLnBhcmVudE5vZGUpIHtcclxuICAgIHN3YXBJdGVtID1cclxuICAgICAgc3dhcEl0ZW0gIT09IHNlbGVjdGVkSXRlbS5uZXh0U2libGluZyA/IHN3YXBJdGVtIDogc3dhcEl0ZW0ubmV4dFNpYmxpbmc7XHJcbiAgICBsaXN0Lmluc2VydEJlZm9yZShzZWxlY3RlZEl0ZW0sIHN3YXBJdGVtKTtcclxuICB9XHJcbn1cclxuXHJcbmVuYWJsZURyYWdTb3J0KCk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlciB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgdGhpcy5zbGlkZVRpbWUgPSBkYXRhLnNsaWRlVGltZTtcclxuICAgIHRoaXMuc2xpZGVyRG9tID0gbmV3IHNsaWRlckRPTShkYXRhKTtcclxuICAgIHRoaXMudG91Y2ggPSBuZXcgc2xpZGVyVG91Y2goZGF0YS5jb250YWluZXIpO1xyXG4gICAgdGhpcy5hZGFwdGl2ZSA9IG5ldyBzbGlkZXJBZGFwdGl2ZSh7XHJcbiAgICAgIG9uUmVzaXplQ2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICB0aGlzLmFjdGl2ZVRyYW5zaXRpb24oZmFsc2UpO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRzSW5mbygpO1xyXG4gICAgICAgIHRoaXMuc2V0U2xpZGUodGhpcy5hY3RpdmVTbGlkZSk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hY3RpdmVUcmFuc2l0aW9uKHRydWUpO1xyXG4gICAgICAgIH0sIDEwKTtcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudHMgPSB7fTtcclxuICAgIHRoaXMuYWN0aXZlU2xpZGUgPSAwO1xyXG4gICAgdGhpcy5tYXhTbGlkZSA9IG51bGw7XHJcbiAgICB0aGlzLmVsZW1lbnRXaWR0aCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy5zbGlkZXJEb20uaW5pdCgpO1xyXG4gICAgdGhpcy5hZGFwdGl2ZS5pbml0KCk7XHJcblxyXG4gICAgdGhpcy51cGRhdGVFbGVtZW50c0luZm8oKTtcclxuICAgIHRoaXMuYWN0aXZlVHJhbnNpdGlvbih0cnVlKTtcclxuXHJcbiAgICB0aGlzLnRvdWNoLmluaXRUb3VjaEV2ZW50cyh7XHJcbiAgICAgIHRvdWNoU3RhcnQ6IHRoaXMudG91Y2hTdGFydC5iaW5kKHRoaXMpLFxyXG4gICAgICB0b3VjaE1vdmU6IHRoaXMudG91Y2hNb3ZlLmJpbmQodGhpcyksXHJcbiAgICAgIHRvdWNoRW5kOiB0aGlzLnRvdWNoRW5kLmJpbmQodGhpcyksXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmVsZW1lbnRXaWR0aCA9IHRoaXMuY29udGFpbmVyV2lkdGg7XHJcblxyXG4gICAgdGhpcy5tYXhTbGlkZSA9IHRoaXMuZWxlbWVudHMubGVuZ3RoIC0gMTtcclxuICB9XHJcblxyXG4gIHRvdWNoU3RhcnQoKSB7XHJcbiAgICB0aGlzLmFjdGl2ZVRyYW5zaXRpb24oZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgX3N0YXJ0RWxlbWVudE1vdmVQb3NpdGlvbiA9IG51bGw7XHJcbiAgdG91Y2hNb3ZlKHsgbW92ZVggfSkge1xyXG4gICAgdGhpcy5fc3RhcnRFbGVtZW50TW92ZVBvc2l0aW9uID1cclxuICAgICAgdGhpcy5fc3RhcnRFbGVtZW50TW92ZVBvc2l0aW9uID8/IHRoaXMuc2xpZGVyRG9tLmNvdGFpbmVyUG9zaXRpb247XHJcblxyXG4gICAgY29uc3Qgc2hpZnQgPSB0aGlzLl9zdGFydEVsZW1lbnRNb3ZlUG9zaXRpb24gKyBtb3ZlWDtcclxuXHJcbiAgICB0aGlzLnNsaWRlckRvbS5tb3ZlRWxlbWVudHMoc2hpZnQpO1xyXG4gIH1cclxuXHJcbiAgdG91Y2hFbmQoKSB7XHJcbiAgICB0aGlzLl9zdGFydEVsZW1lbnRNb3ZlUG9zaXRpb24gPSBudWxsO1xyXG5cclxuICAgIHRoaXMuYWN0aXZlVHJhbnNpdGlvbih0cnVlKTtcclxuXHJcbiAgICB0aGlzLnNldFNsaWRlKHRoaXMubmV4dFNsaWRlSW5kZXhCeVBvc2l0aW9uKTtcclxuICB9XHJcblxyXG4gIGdldCBuZXh0U2xpZGVJbmRleEJ5UG9zaXRpb24oKSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuc2xpZGVyRG9tXHJcbiAgICAgIC5nZXRDb21wdXRlZEVsZW1lbnRzUG9zaXRpb24oKVxyXG4gICAgICAuZmluZEluZGV4KChlbCkgPT4gZWwucG9zaXRpb24gKyB0aGlzLmVsZW1lbnRXaWR0aCAvIDIgPiAwKTtcclxuXHJcbiAgICByZXR1cm4gaW5kZXggPj0gMCA/IGluZGV4IDogdGhpcy5tYXhTbGlkZTtcclxuICB9XHJcblxyXG4gIGdldCBjb250YWluZXJXaWR0aCgpIHtcclxuICAgIHJldHVybiB0aGlzLnNsaWRlckRvbS5jb250YWluZXIub2Zmc2V0V2lkdGg7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVFbGVtZW50c0luZm8oKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRzID0gdGhpcy5zbGlkZXJEb20uZ2V0U3RhdGljRWxlbWVudHNQb3NpdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgbmV4dCgpIHtcclxuICAgIHRoaXMuc2V0U2xpZGUoKyt0aGlzLmFjdGl2ZVNsaWRlKTtcclxuICB9XHJcblxyXG4gIHByZXYoKSB7XHJcbiAgICB0aGlzLnNldFNsaWRlKC0tdGhpcy5hY3RpdmVTbGlkZSk7XHJcbiAgfVxyXG5cclxuICBhY3RpdmVUcmFuc2l0aW9uKGlzQWN0aXZlKSB7XHJcbiAgICB0aGlzLnNsaWRlckRvbS5jb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9IGlzQWN0aXZlXHJcbiAgICAgID8gYHRyYW5zZm9ybSAke3RoaXMuc2xpZGVUaW1lfXMgZWFzZWBcclxuICAgICAgOiBcIm5vbmVcIjtcclxuICB9XHJcblxyXG4gIHNldFNsaWRlKGluZGV4KSB7XHJcbiAgICBpZiAoaW5kZXggIT09IHRoaXMuYWN0aXZlU2xpZGUpIHRoaXMuYWN0aXZlVHJhbnNpdGlvbih0cnVlKTtcclxuXHJcbiAgICBpbmRleCA9IGluZGV4IDwgMCA/IDAgOiBpbmRleCA+IHRoaXMubWF4U2xpZGUgPyB0aGlzLm1heFNsaWRlIDogaW5kZXg7XHJcblxyXG4gICAgY29uc3Qgc2hpZnQgPSB0aGlzLmVsZW1lbnRzW2luZGV4XS5wb3NpdGlvbjtcclxuXHJcbiAgICB0aGlzLmFjdGl2ZVNsaWRlID0gaW5kZXg7XHJcbiAgICB0aGlzLnNsaWRlckRvbS5tb3ZlRWxlbWVudHMoLXNoaWZ0KTtcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIHNsaWRlckRPTSB7XHJcbiAgY29uc3RydWN0b3IoeyBjb250YWluZXIsIHNsaWRlc0NsYXNzIH0pIHtcclxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgdGhpcy5zbGlkZXNDbGFzcyA9IHNsaWRlc0NsYXNzO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudHMgPSBbXTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLmVsZW1lbnRzID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNsaWRlc0NsYXNzKTtcclxuICB9XHJcblxyXG4gIGdldCBjb3RhaW5lclBvc2l0aW9uKCkge1xyXG4gICAgY29uc3QgeyB0cmFuc2Zvcm0gfSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuY29udGFpbmVyKTtcclxuICAgIHJldHVybiBuZXcgV2ViS2l0Q1NTTWF0cml4KHRyYW5zZm9ybSkubTQxO1xyXG4gIH1cclxuXHJcbiAgZ2V0U3RhdGljRWxlbWVudHNQb3NpdGlvbigpIHtcclxuICAgIHJldHVybiBbLi4udGhpcy5lbGVtZW50c10ubWFwKChlbCkgPT4ge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHBvc2l0aW9uOiBlbC5vZmZzZXRMZWZ0LFxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRDb21wdXRlZEVsZW1lbnRzUG9zaXRpb24oKSB7XHJcbiAgICByZXR1cm4gWy4uLnRoaXMuZWxlbWVudHNdLm1hcCgoZWwpID0+IHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBwb3NpdGlvbjogZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCxcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbW92ZUVsZW1lbnRzKHBvc2l0aW9uWCkge1xyXG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHtwb3NpdGlvblh9cHgpYDtcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIHNsaWRlckFkYXB0aXZlIHtcclxuICBjb25zdHJ1Y3Rvcih7IG9uUmVzaXplQ2FsbGJhY2sgfSkge1xyXG4gICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcclxuICAgIHRoaXMud2luZG93UmVzaXplZFdpZHRoID0gMDtcclxuICAgIHRoaXMub25SZXNpemVDYWxsYmFjayA9IG9uUmVzaXplQ2FsbGJhY2s7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5pbml0UmVzaXplLmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAgaW5pdFJlc2l6ZShldmVudCkge1xyXG4gICAgdGhpcy5vblJlc2l6ZUNhbGxiYWNrKCk7XHJcbiAgICB0aGlzLmNhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjaykgPT4gY2FsbGJhY2soZXZlbnQpKTtcclxuICB9XHJcblxyXG4gIG9uUmVzaXplKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIHNsaWRlclRvdWNoIHtcclxuICBjb25zdHJ1Y3Rvcihjb250YWluZXIpIHtcclxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG5cclxuICAgIHRoaXMudG91Y2ggPSB7XHJcbiAgICAgIHN0YXJ0WDogMCxcclxuICAgICAgbW92ZVg6IDAsXHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuZXZlbnRzID0ge307XHJcbiAgfVxyXG5cclxuICBpbml0VG91Y2hFdmVudHMoY2FsbGJhY2tzKSB7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLl90b3VjaFN0YXJ0LmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLl90b3VjaE1vdmUuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5fdG91Y2hFbmQuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgdGhpcy5ldmVudHMgPSBjYWxsYmFja3M7XHJcbiAgfVxyXG5cclxuICBfdG91Y2hTdGFydChlKSB7XHJcbiAgICB0aGlzLnRvdWNoLnN0YXJ0WCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XHJcblxyXG4gICAgaWYgKHRoaXMuZXZlbnRzLnRvdWNoU3RhcnQpIHRoaXMuZXZlbnRzLnRvdWNoU3RhcnQodGhpcy50b3VjaCk7XHJcbiAgfVxyXG4gIF90b3VjaE1vdmUoZSkge1xyXG4gICAgdGhpcy50b3VjaC5tb3ZlWCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVggLSB0aGlzLnRvdWNoLnN0YXJ0WDtcclxuXHJcbiAgICBpZiAoTWF0aC5hYnModGhpcy50b3VjaC5tb3ZlWCkgPCAyMCkgcmV0dXJuO1xyXG5cclxuICAgIGlmICh0aGlzLmV2ZW50cy50b3VjaE1vdmUpIHRoaXMuZXZlbnRzLnRvdWNoTW92ZSh0aGlzLnRvdWNoKTtcclxuICB9XHJcbiAgX3RvdWNoRW5kKCkge1xyXG4gICAgdGhpcy50b3VjaCA9IHtcclxuICAgICAgc3RhcnRYOiAwLFxyXG4gICAgICBtb3ZlWDogMCxcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHRoaXMuZXZlbnRzLnRvdWNoRW5kKSB0aGlzLmV2ZW50cy50b3VjaEVuZCgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgU2xpZGVyIGZyb20gXCIuLi8uLi9zY3JpcHRzL1NsaWRlclwiO1xyXG5cclxuY29uc3QgY2Fyb3VzZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhcm91c2VsXCIpO1xyXG5cclxuY29uc3Qgc2xpZGVyQ29udHJvbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyX19idG4nKTtcclxuY29uc3Qgc2xpZGVyQm90dG9tQ29udHJvbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyX19jb250cm9sLWl0ZW0nKTtcclxuXHJcbmNvbnN0IHNsaWRlciA9IG5ldyBTbGlkZXIoe1xyXG4gIGNvbnRhaW5lcjogY2Fyb3VzZWwsXHJcbiAgc2xpZGVzQ2xhc3M6IFwiLmNhcm91c2VsX19zbGlkZVwiLFxyXG4gIHNsaWRlVGltZTogLjVcclxufSk7XHJcblxyXG5zbGlkZXIuaW5pdCgpO1xyXG5cclxuc2xpZGVyQ29udHJvbHMuZm9yRWFjaCgoYnRuKSA9PiB7XHJcbiAgY29uc3QgYnRuTmFtZSA9IGJ0bi5pZC5zcGxpdCgnX18nKVsxXTtcclxuXHJcbiAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgc2xpZGVyW2J0bk5hbWVdKCk7XHJcblxyXG4gICAgY2hlY2tDb250cm9sc0Rpc2FibGluZyhzbGlkZXIuYWN0aXZlU2xpZGUpO1xyXG4gICAgY2hlY2tCdXR0b25zRGlzYWJsaW5nKCk7XHJcbiAgfSk7XHJcbn0pO1xyXG5jaGVja0J1dHRvbnNEaXNhYmxpbmcoKTtcclxuXHJcbnNsaWRlckJvdHRvbUNvbnRyb2xzLmZvckVhY2goKGVsKSA9PiB7XHJcblxyXG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgIGNvbnN0IGluZGV4ID0gK2VsLmRhdGFzZXQuaW5kZXg7XHJcblxyXG4gICAgc2xpZGVyLnNldFNsaWRlKGluZGV4KTtcclxuXHJcbiAgICBjaGVja0NvbnRyb2xzRGlzYWJsaW5nKGluZGV4KTtcclxuICAgIGNoZWNrQnV0dG9uc0Rpc2FibGluZygpO1xyXG4gIH0pO1xyXG5cclxufSk7XHJcblxyXG5cclxuZnVuY3Rpb24gY2hlY2tDb250cm9sc0Rpc2FibGluZyhpKSB7XHJcbiAgc2xpZGVyQm90dG9tQ29udHJvbHMuZm9yRWFjaCgoYnRuKSA9PiBidG4uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19jb250cm9sLWl0ZW1fYWN0aXZlJykpO1xyXG4gIHNsaWRlckJvdHRvbUNvbnRyb2xzW2ldLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fY29udHJvbC1pdGVtX2FjdGl2ZScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0J1dHRvbnNEaXNhYmxpbmcoKSB7XHJcbiAgc2xpZGVyQ29udHJvbHNbMF0uZGlzYWJsZWQgPSBzbGlkZXIuYWN0aXZlU2xpZGUgPT09IDA7XHJcbiAgc2xpZGVyQ29udHJvbHNbMV0uZGlzYWJsZWQgPSBzbGlkZXIuYWN0aXZlU2xpZGUgPT09IHNsaWRlci5lbGVtZW50cy5sZW5ndGggLSAxO1xyXG59XHJcbiIsImltcG9ydCBTbGlkZXIgZnJvbSBcIi4vU2xpZGVyXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyTXVsdGlJdGVtcyBleHRlbmRzIFNsaWRlciB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSkge1xyXG4gICAgc3VwZXIoZGF0YSk7XHJcbiAgICB0aGlzLnNsaWRlc09uU2NyZWVuID0gZGF0YS5zbGlkZXNPblNjcmVlbjtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICBzdXBlci5pbml0KCk7XHJcbiAgICB0aGlzLm1heFNsaWRlID0gdGhpcy5lbGVtZW50cy5sZW5ndGggLSB0aGlzLnNsaWRlc09uU2NyZWVuO1xyXG4gICAgdGhpcy5lbGVtZW50V2lkdGggPSAodGhpcy5jb250YWluZXJXaWR0aCAvIHRoaXMuc2xpZGVzT25TY3JlZW4pICsgMTAgLyB0aGlzLnNsaWRlc09uU2NyZWVuO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlRWxlbWVudHNJbmZvKCkge1xyXG4gICAgc3VwZXIudXBkYXRlRWxlbWVudHNJbmZvKCk7XHJcbiAgICBcclxuICAgIHRoaXMuZWxlbWVudFdpZHRoID0gKHRoaXMuY29udGFpbmVyV2lkdGggLyB0aGlzLnNsaWRlc09uU2NyZWVuKSArIDEwIC8gdGhpcy5zbGlkZXNPblNjcmVlbjtcclxuXHJcbiAgICB0aGlzLnVwZGF0ZUVsZW1lbnRzT25TY3JlZW4oKVxyXG4gICAgc3VwZXIudXBkYXRlRWxlbWVudHNJbmZvKCk7XHJcblxyXG4gICAgdGhpcy5tYXhTbGlkZSA9IHRoaXMuZWxlbWVudHMubGVuZ3RoIC0gdGhpcy5zbGlkZXNPblNjcmVlbjtcclxuICB9XHJcblxyXG4gIFxyXG5cclxuICB1cGRhdGVFbGVtZW50c09uU2NyZWVuKCkge1xyXG4gICAgWy4uLnRoaXMuc2xpZGVyRG9tLmVsZW1lbnRzXS5tYXAoKGVsKT0+e1xyXG4gICAgICBlbC5zdHlsZS53aWR0aCA9IHRoaXMuZWxlbWVudFdpZHRoKydweCc7XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgU2xpZGVyTXVsdGlJdGVtcyBmcm9tICcuLi8uLi9zY3JpcHRzL011bHRpQ2Fyb3VzZWwnO1xyXG5cclxuY29uc3QgbXVsdGlTbGlkZXJDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2Fyb3VzZWwtbXVsdGknKTtcclxuY29uc3QgbmF2QnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hYm91dC11c19fbmF2LWJ0bicpO1xyXG5jb25zdCBzbGlkZXJSYW5nZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzbGlkZXItcmFuZ2UnKTtcclxuXHJcbmNvbnN0IG11bHRpU2xpZGVyID0gbmV3IFNsaWRlck11bHRpSXRlbXMoe1xyXG4gIGNvbnRhaW5lcjogbXVsdGlTbGlkZXJDb250YWluZXIsXHJcbiAgc2xpZGVzQ2xhc3M6IFwiLmNhcm91c2VsX211bHRpX19zbGlkZVwiLFxyXG4gIHNsaWRlVGltZTogLjUsXHJcbiAgc2xpZGVzT25TY3JlZW46IDZcclxufSk7XHJcblxyXG5zZXRTbGlkZXNPblNjcmVlbkJ5Q29udGFpbmVyV2lkdGgoKTtcclxuXHJcbm11bHRpU2xpZGVyLmluaXQoKTtcclxuXHJcbnNldFJhbmdlQXR0cmlidXRlcygpO1xyXG5mdW5jdGlvbiBzZXRSYW5nZUF0dHJpYnV0ZXMoKSB7XHJcbiAgc2xpZGVyUmFuZ2Uuc2V0QXR0cmlidXRlKCdtaW4nLCAnMCcpO1xyXG4gIHNsaWRlclJhbmdlLnNldEF0dHJpYnV0ZSgnbWF4JywgbXVsdGlTbGlkZXIuZWxlbWVudHNbbXVsdGlTbGlkZXIubWF4U2xpZGVdLnBvc2l0aW9uKTtcclxufVxyXG5cclxuc2xpZGVyUmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbigpIHtcclxuICBjb25zdCB2YWwgPSArdGhpcy52YWx1ZTtcclxuXHJcbiAgbXVsdGlTbGlkZXIuYWN0aXZlVHJhbnNpdGlvbihmYWxzZSk7XHJcbiAgbXVsdGlTbGlkZXIuc2xpZGVyRG9tLm1vdmVFbGVtZW50cygtdmFsKTtcclxufSk7XHJcblxyXG5zbGlkZXJSYW5nZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gIGNvbnN0IG5leHRTbGlkZXJJZCA9IG11bHRpU2xpZGVyLm5leHRTbGlkZUluZGV4QnlQb3NpdGlvbjtcclxuICBtdWx0aVNsaWRlci5hY3RpdmVUcmFuc2l0aW9uKHRydWUpO1xyXG4gIG11bHRpU2xpZGVyLnNldFNsaWRlKG5leHRTbGlkZXJJZCk7XHJcbn0pO1xyXG5cclxuLy8gc2xpZGVyUmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcigpXHJcblxyXG5uYXZCdG5zLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBjb25zdCBzbGlkZURpciA9IGVsLmlkLnNwbGl0KCdfXycpWzFdO1xyXG5cclxuICAgIG11bHRpU2xpZGVyW3NsaWRlRGlyXSgpO1xyXG5cclxuICAgIGNoZWNrQnV0dG9uc0Rpc2FibGluZygpO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbm11bHRpU2xpZGVyLmFkYXB0aXZlLm9uUmVzaXplKHNldFNsaWRlc09uU2NyZWVuQnlDb250YWluZXJXaWR0aCk7XHJcblxyXG5mdW5jdGlvbiBzZXRTbGlkZXNPblNjcmVlbkJ5Q29udGFpbmVyV2lkdGgoKSB7XHJcbiAgaWYgKG11bHRpU2xpZGVyLmNvbnRhaW5lcldpZHRoIDwgMTAwMCkgbXVsdGlTbGlkZXIuc2xpZGVzT25TY3JlZW4gPSA0O1xyXG4gIGlmIChtdWx0aVNsaWRlci5jb250YWluZXJXaWR0aCA8IDcwMCkgbXVsdGlTbGlkZXIuc2xpZGVzT25TY3JlZW4gPSAyO1xyXG4gIGVsc2UgbXVsdGlTbGlkZXIuc2xpZGVzT25TY3JlZW4gPSA2O1xyXG59XHJcblxyXG5jaGVja0J1dHRvbnNEaXNhYmxpbmcoKTtcclxuZnVuY3Rpb24gY2hlY2tCdXR0b25zRGlzYWJsaW5nKCkge1xyXG4gIG5hdkJ0bnNbMF0uZGlzYWJsZWQgPSBtdWx0aVNsaWRlci5hY3RpdmVTbGlkZSA9PT0gMDtcclxuICBuYXZCdG5zWzFdLmRpc2FibGVkID0gbXVsdGlTbGlkZXIuYWN0aXZlU2xpZGUgPT09IG11bHRpU2xpZGVyLm1heFNsaWRlO1xyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWcvZGlhZ3JhbS5zdmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1nL2pxdWVyeS5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1nL3J1bGxlci5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1nL3J1bGxlcl9ib3R0b20ucG5nXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltZy9QYXRoLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWcvbWFzay5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiaW1nL2JpZ21hc2sucG5nXCI7Il0sInNvdXJjZVJvb3QiOiIifQ==